!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["react-dom","react"],t):"object"==typeof exports?exports["rc-bmap"]=t(require("react-dom"),require("react")):e["rc-bmap"]=t(e.ReactDOM,e.React)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e.replace(O,function(e){return e.toUpperCase()})}function r(t,n){return new e.BMap.Point(t,n)}function a(t,n){return new e.BMap.Size(t,n)}function s(t){var n=t.sw,i=t.ne;return new e.BMap.Bounds(r(n.lng,n.lat),r(i.lng,i.lat))}function l(e,t,n){n&&v[t]&&v[t].forEach(function(t){if(n[t]){var i=function(){for(var e,i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];(e=n[t]).call.apply(e,[null].concat(o))};e["_"+t]&&e.removeEventListener(t,e["_"+t]),e.addEventListener(t,i),e["_"+t]=i}})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,i=t.size,o=t.opts,r=void 0===o?{}:o;return new e.BMap.Icon(n,i,{anchor:r.anchor&&a(r.anchor.width,r.anchor.height),imageSize:r.imageSize&&a(r.imageSize.width,r.imageSize.height),imageOffset:r.imageOffset&&a(r.imageOffset.width,r.imageOffset.height),infoWindowAnchor:r.infoWindowAnchor&&a(r.infoWindowAnchor.width,r.infoWindowAnchor.height),printImageUrl:r.printImageUrl})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.content,i=t.point,o=t.offset,s=void 0===o?{width:0,height:0}:o,u=t.massClear,c=void 0===u||u,p=t.title,f=t.events,h=t.zIndex,g=t.style,_={offset:s&&a(s.width,s.height),enableMassClear:c,position:i&&r(i.lng,i.lat)},y=new e.BMap.Label(n,_);return l(y,"LABEL",f),d(y,"LABEL_SET_OPTIONS",{title:p,zIndex:h,style:g}),y}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,i=t.opts,o=void 0===i?{}:i,r=e[n]||n;return new e.BMap.Symbol(r,y({},o))}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],i=new e.BMap.ContextMenu;return t.forEach(function(t){var n={width:t.width,id:t.id,iconUrl:t.iconUrl},o=new e.BMap.MenuItem(t.text,t.callback,n);t.disabled&&o.disable(),t.separator&&i.addSeparator(),i.addItem(o)}),l(i,"CONTEXT_MENU",n),i}function d(e,t,n){w[t].forEach(function(t){if(n[t]||"boolean"==typeof n[t]){var i=o(t);e["set"+i](n[t])}})}function h(){return!!document.createElement("canvas").getContext}function g(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.id,i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=t,void 0!==n&&(i.id=n),document.getElementsByTagName("head")[0].appendChild(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=void 0;var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.replaceInitialToUpper=o,t.getPoint=r,t.getSize=a,t.getBound=s,t.bindEvents=l,t.createIcon=u,t.createLabel=c,t.createSymbol=p,t.createContextMenu=f,t.processSetOptions=d,t.isSupportContext=h,t.isSupportCanvas=g,t.appendCss=_;var m=n(21),v=i(m),b=n(8),w=i(b),O=/[a-z]/;t.isPoint=function(e){return e.lng&&e.lat}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(t){return function(n){function a(n){i(this,a);var r=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n));return r.map=e.bMapInstance,r.wrapped=new t(n),n.getInstance&&n.getInstance(r.wrapped),r}return r(a,n),s(a,[{key:"componentDidUpdate",value:function(){this.wrapped.onPropsUpdate&&this.wrapped.onPropsUpdate(this.props)}},{key:"componentWillUnmount",value:function(){this.wrapped.destroy()}},{key:"render",value:function(){return null}}]),a}(l.PureComponent)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=a;var l=n(7)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(6),a=n(1),s=function(){function t(n){var o=this;i(this,t),this.setState=function(e){null!==e&&(o.state=Object.assign(o.state,e)),o.render&&(0,r.render)(o.render(),o.container)},this.props=n,this.state={},this.map=e.bMapInstance,this.init(),this.addOverlay()}return o(t,[{key:"addOverlay",value:function(){if(this.instance instanceof e.BMap.InfoWindow){var t=this.props.point;this.map.openInfoWindow(this.instance,(0,a.getPoint)(t.lng,t.lat))}else this.map.addOverlay(this.instance)}},{key:"removeOverlay",value:function(){this.instance instanceof e.BMap.InfoWindow?this.map.closeInfoWindow():this.map.removeOverlay(this.instance)}},{key:"onPropsUpdate",value:function(e){this.props=e,this.destroy(),this.init(),this.addOverlay()}},{key:"destroy",value:function(){this.removeOverlay(),this.instance=null}}]),t}();t.default=s}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TOP_LEFT:"BMAP_ANCHOR_TOP_LEFT",TOP_RIGHT:"BMAP_ANCHOR_TOP_RIGHT",BOTTOM_LEFT:"BMAP_ANCHOR_BOTTOM_LEFT",BOTTOM_RIGHT:"BMAP_ANCHOR_BOTTOM_RIGHT"}},function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(6),a=function(){function t(n){var o=this;i(this,t),this.setState=function(e){null!==e&&(o.state=Object.assign(o.state,e)),o.render&&(0,r.render)(o.render(),o.container)},this.destroy=function(){o.map.removeControl(o.instance),o.instance=null},this.props=n,this.state={},this.map=e.bMapInstance,this.init(),this.map.addControl(this.instance)}return o(t,[{key:"onPropsUpdate",value:function(e){this.props=e,this.destroy(),this.init(),this.map.addControl(this.instance)}}]),t}();t.default=a}).call(t,n(0))},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAP_SET_OPTIONS=["minZoom","maxZoom","defaultCursor","draggingCursor","mapStyle","mapType","zoom"],t.MAP_BOOLEAN_OPTIONS=["dragging","scrollWheelZoom","doubleClickZoom","keyboard","inertialDragging","continuousZoom","pinchToZoom","autoResize"],t.MARKER_SET_OPTIONS=["label","zIndex","top","icon","shadow"],t.LABEL_SET_OPTIONS=["title","zIndex","style"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={FLOAT:"floatPane",FLOAT_SHADOW:"floatShadow",LABEL:"labelPane",MARKER:"markerPane",MARKER_MOUSE:"markerMouseTarget",MARKER_SHADOW:"markerShadow",MAP:"mapPane"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LARGE:"BMAP_NAVIGATION_CONTROL_LARGE",SMALL:"BMAP_NAVIGATION_CONTROL_SMALL",PAN:"BMAP_NAVIGATION_CONTROL_PAN",ZOOM:"BMAP_NAVIGATION_CONTROL_ZOOM"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METRIC:"BMAP_UNIT_METRIC",IMPERIAL:"BMAP_UNIT_IMPERIAL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={HORIZONTAL:"BMAP_MAPTYPE_CONTROL_HORIZONTAL",DROPDOWN:"BMAP_MAPTYPE_CONTROL_DROPDOWN",MAP:"BMAP_MAPTYPE_CONTROL_MAP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NORMAL:"BMAP_NORMAL_MAP",PERSPECTIVE:"BMAP_PERSPECTIVE_MAP",SATELLITE:"BMAP_SATELLITE_MAP",HYBRID:"BMAP_HYBRID_MAP"}},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this,n=this.props,i=n.point,o=n.offset,r=void 0===o?{width:0,height:0}:o,a=n.icon,s=n.massClear,l=void 0===s||s,u=n.dragging,c=void 0!==u&&u,f=n.clicking,d=void 0!==f&&f,h=n.raiseOnDrag,g=void 0!==h&&h,_=n.draggingCursor,y=n.rotation,m=n.shadow,v=n.title,b=n.events,w=n.label,O=n.zIndex,M=n.top,P=void 0!==M&&M,T=n.animation,E=i&&(0,p.getPoint)(i.lng,i.lat),C={offset:r&&(0,p.getSize)(r.width,r.height),enableMassClear:l,enableDragging:c,enableClicking:d,raiseOnDrag:g,draggingCursor:_,rotation:y,title:v};this.instance=new e.BMap.Marker(E,C);var x={label:w&&(0,p.createLabel)(w.props),shadow:m&&(0,p.createIcon)(m),zIndex:O,top:P};a&&a instanceof e.BMap.Symbol?x.icon=a:a&&(x.icon=(0,p.createIcon)(a)),(0,p.bindEvents)(this.instance,"MARKER",b),(0,p.processSetOptions)(this.instance,"MARKER_SET_OPTIONS",x),T&&setTimeout(function(){t.instance.setAnimation(e[T])},0)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.points,i=t.strokeColor,o=t.fillColor,r=t.strokeWeight,a=t.strokeOpacity,s=t.fillOpacity,l=t.strokeStyle,u=t.massClear,c=void 0===u||u,f=t.editing,d=void 0!==f&&f,h=t.clicking,g=void 0===h||h,_=t.events,y={strokeColor:i,fillColor:o,strokeWeight:r,strokeOpacity:a,fillOpacity:s,strokeStyle:l,enableEditing:d,enableClicking:g,enableMassClear:c},m=[];n&&(m=n.map(function(e){return(0,p.getPoint)(e.lng,e.lat)})),this.instance=new e.BMap.Polygon(m,y),(0,p.bindEvents)(this.instance,"POLYGON",_)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return i(o).default}});var r=n(22);Object.defineProperty(t,"Control",{enumerable:!0,get:function(){return i(r).default}});var a=n(23);Object.defineProperty(t,"Overlay",{enumerable:!0,get:function(){return i(a).default}});var s=n(2);Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return i(s).default}});var l=n(24);Object.defineProperty(t,"Navigation",{enumerable:!0,get:function(){return i(l).default}});var u=n(25);Object.defineProperty(t,"OverviewMap",{enumerable:!0,get:function(){return i(u).default}});var c=n(26);Object.defineProperty(t,"Scale",{enumerable:!0,get:function(){return i(c).default}});var p=n(27);Object.defineProperty(t,"MapTypeCtrl",{enumerable:!0,get:function(){return i(p).default}});var f=n(28);Object.defineProperty(t,"Copyright",{enumerable:!0,get:function(){return i(f).default}});var d=n(29);Object.defineProperty(t,"Geolocation",{enumerable:!0,get:function(){return i(d).default}});var h=n(30);Object.defineProperty(t,"Panorama",{enumerable:!0,get:function(){return i(h).default}});var g=n(31);Object.defineProperty(t,"CityList",{enumerable:!0,get:function(){return i(g).default}});var _=n(14);Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return i(_).default}});var y=n(32);Object.defineProperty(t,"Label",{enumerable:!0,get:function(){return i(y).default}});var m=n(33);Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return i(m).default}});var v=n(15);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return i(v).default}});var b=n(34);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return i(b).default}});var w=n(35);Object.defineProperty(t,"InfoWindow",{enumerable:!0,get:function(){return i(w).default}});var O=n(36);Object.defineProperty(t,"Ground",{enumerable:!0,get:function(){return i(O).default}});var M=n(37);Object.defineProperty(t,"PointCollection",{enumerable:!0,get:function(){return i(M).default}});var P=n(38);Object.defineProperty(t,"Symbol",{enumerable:!0,get:function(){return i(P).default}});var T=n(39);Object.defineProperty(t,"Boundary",{enumerable:!0,get:function(){return i(T).default}});var E=n(40);Object.defineProperty(t,"Heatmap",{enumerable:!0,get:function(){return i(E).default}});var C=n(42);Object.defineProperty(t,"CurveLine",{enumerable:!0,get:function(){return i(C).default}});var x=n(44);Object.defineProperty(t,"MarkerClusterer",{enumerable:!0,get:function(){return i(x).default}});var k=n(46);Object.defineProperty(t,"DrawingManager",{enumerable:!0,get:function(){return i(k).default}});var S=n(48);Object.defineProperty(t,"DistanceTool",{enumerable:!0,get:function(){return i(S).default}});var B=n(50);Object.defineProperty(t,"TrafficControl",{enumerable:!0,get:function(){return i(B).default}});var j=n(13);Object.defineProperty(t,"MapType",{enumerable:!0,get:function(){return i(j).default}});var L=n(4);Object.defineProperty(t,"ControlAnchor",{enumerable:!0,get:function(){return i(L).default}});var A=n(10);Object.defineProperty(t,"NavigationType",{enumerable:!0,get:function(){return i(A).default}});var I=n(11);Object.defineProperty(t,"LengthUnit",{enumerable:!0,get:function(){return i(I).default}});var R=n(9);Object.defineProperty(t,"MapPane",{enumerable:!0,get:function(){return i(R).default}});var D=n(12);Object.defineProperty(t,"MapTypeControlType",{enumerable:!0,get:function(){return i(D).default}});var N=n(52);Object.defineProperty(t,"StatusCode",{enumerable:!0,get:function(){return i(N).default}});var z=n(53);Object.defineProperty(t,"Animation",{enumerable:!0,get:function(){return i(z).default}});var H=n(54);Object.defineProperty(t,"ShapeType",{enumerable:!0,get:function(){return i(H).default}});var F=n(55);Object.defineProperty(t,"SizeType",{enumerable:!0,get:function(){return i(F).default}});var W=n(56);Object.defineProperty(t,"SymbolShapeType",{enumerable:!0,get:function(){return i(W).default}})},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=n(7),d=i(f),h=n(18),g=i(h),_=n(8),y=n(1),m={width:"100%",height:"100%"},v=(u=l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.call(n),d.default.createRef?n.mapContainerRef=d.default.createRef():n.mapContainerRef=function(e){n.mapContainer=e},n}return s(t,e),p(t,[{key:"componentDidMount",value:function(){this.getMapScript().then(this.init)}},{key:"componentWillReceiveProps",value:function(e){if(this.map){var t=this.processProps(e);this.processMapOptions(t),(0,y.bindEvents)(this.map,"MAP",this.props.events)}}},{key:"processProps",value:function(e){var t=e;if(JSON.stringify(e.center)===JSON.stringify(this.props.center)){e.center;t=o(e,["center"])}return t.zoom===this.props.zoom&&delete t.zoom,t}},{key:"render",value:function(){var e=this.props.placeHolder;return d.default.createElement("div",{style:m},d.default.createElement("div",{ref:this.mapContainerRef,style:m},e),this.renderChildren())}}]),t}(d.default.Component),l.defaultProps={placeHolder:"地图加载中...",dragging:!0,scrollWheelZoom:!1,doubleClickZoom:!0,keyboard:!1,inertialDragging:!1,continuousZoom:!0,pinchToZoom:!0,autoResize:!0,highResolution:!0,mapClick:!0,center:{lng:116.404,lat:39.915},zoom:15},l.propTypes={placeHolder:g.default.oneOfType([g.default.string,g.default.object]),children:g.default.any,ak:g.default.string,minZoom:g.default.number,maxZoom:g.default.number,defaultCursor:g.default.string,draggingCursor:g.default.string,mapStyle:g.default.object,center:g.default.oneOfType([g.default.string,g.default.object]),mapType:g.default.string,zoom:g.default.number,highResolution:g.default.bool,autoResize:g.default.bool,mapClick:g.default.bool,renderCallBack:g.default.func,dragging:g.default.bool,scrollWheelZoom:g.default.bool,doubleClickZoom:g.default.bool,keyboard:g.default.bool,inertialDragging:g.default.bool,continuousZoom:g.default.bool,pinchToZoom:g.default.bool,events:g.default.object},c=function(){var t=this;this.init=function(n){var i=t.props,r=i.highResolution,a=i.autoResize,s=i.mapClick,l=i.renderCallBack,u=i.contextMenu,c=o(i,["highResolution","autoResize","mapClick","renderCallBack","contextMenu"]);t.mapContainer=t.mapContainer||t.mapContainerRef.current;var p=t.map=new n.Map(t.mapContainer,{enableHighResolution:r,enableAutoResize:a,enableMapClick:s});if(u){var f=(0,y.createContextMenu)(u.items,u.events);p.addContextMenu(f)}e.bMapInstance=p,t.processMapOptions(c),(0,y.bindEvents)(p,"MAP",t.props.events),l&&l(),t.forceUpdate()},this.processMapOptions=function(n){var i=t.map;if((0,y.processSetOptions)(i,"MAP_SET_OPTIONS",n),_.MAP_BOOLEAN_OPTIONS.forEach(function(e){var t=(0,y.replaceInitialToUpper)(e),o="disable";n[e]&&(o="enable"),i[""+o+t]()}),n.center){var o=n.center;(0,y.isPoint)(o)&&(o=(0,y.getPoint)(o.lng,o.lat),i.centerAndZoom(o,n.zoom))}n.mapType&&i.setMapType(e[n.mapType])},this.getMapScript=function(){var n=t.props.ak;return e.BMap=e.BMap||{},0===Object.keys(e.BMap).length?(e.BMap._preloader=new Promise(function(t,i){e._initBaiduMap=function(){t(e.BMap),e.document.body.removeChild(o),e.BMap._preloader=null,e._initBaiduMap=null};var o=document.createElement("script");e.document.body.appendChild(o),o.src="https://api.map.baidu.com/api?v=3.0&ak="+n+"&callback=_initBaiduMap"}),e.BMap._preloader):e.BMap._preloader?e.BMap._preloader:Promise.resolve(e.BMap)},this.renderChildren=function(){var e=t.props.children;return t.map&&e?d.default.Children.map(e,function(e){return e?d.default.cloneElement(e):null}):null}},u);t.default=v}).call(t,n(0))},function(e,t,n){e.exports=n(19)()},function(e,t,n){"use strict";function i(){}var o=n(20);e.exports=function(){function e(e,t,n,i,r,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAP=["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],t.OVERVIEW_MAP=["viewchanged","viewchanging"],t.GEOLOCATION=["locationSuccess","locationError"],t.MARKER=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],t.LABEL=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],t.POLYLINE=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],t.POLYGON=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],t.CIRCLE=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],t.INFO_WINDOW=["close","open","maximize","restore","clickclose"],t.GROUND=["click","dbclick"],t.POINT_COLLECTION=["click","mouseover","mouseout"],t.CONTEXT_MENU=["open","close"]},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),u=n(1),c=n(5),p=i(c),f=n(4),d=i(f),h=function(e,t){this.defaultAnchor=e,this.defaultOffset=t},g=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),s(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.TOP_LEFT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o;h.prototype.initialize||(h.prototype=new e.BMap.Control,h.prototype.initialize=this.initialize.bind(this)),this.instance=new h(e[i],(0,u.getSize)(r.width,r.height))}},{key:"initialize",value:function(){var e=this.container=document.createElement("div");return this.render&&(0,l.render)(this.render(),e),this.map.getContainer().appendChild(e),e}}]),n}(p.default);t.default=g}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),u=n(3),c=i(u),p=n(1),f=n(9),d=i(f),h=function(){},g=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),s(n,[{key:"init",value:function(){h.prototype.initialize||(h.prototype=new e.BMap.Overlay,h.prototype.initialize=this.initialize.bind(this),h.prototype.draw=this.draw.bind(this)),this.instance=new h}},{key:"initialize",value:function(){var e=this.props,t=e.pane,n=void 0===t?d.default.MARKER:t,i=e.zIndex,o=this.container=document.createElement("div");return i&&(o.style.zIndex=i),o.style.position="absolute",this.render&&(0,l.render)(this.render(),o),this.map.getPanes()[n].appendChild(o),o}},{key:"draw",value:function(){var e=this.props,t=e.point,n=e.size,i=void 0===n?{width:0,height:0}:n,o=this.map.pointToOverlayPixel((0,p.getPoint)(t.lng,t.lat));this.container.style.left=o.x-i.width/2+"px",this.container.style.top=o.y-i.height/2+"px"}}]),n}(c.default);t.default=g}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(10),g=i(h),_=n(2),y=i(_),m=(0,y.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.TOP_LEFT:n,o=t.offset,r=void 0===o?{width:10,height:10}:o,a=t.type,s=void 0===a?g.default.LARGE:a,l=t.showZoomInfo,u=void 0===l||l,c=t.geolocation,f=void 0!==c&&c,h={anchor:e[i],offset:(0,p.getSize)(r.width,r.height),type:e[s],showZoomInfo:u,enableGeolocation:f};this.instance=new e.BMap.NavigationControl(h)}}]),n}(c.default))||s;t.default=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(2),g=i(h),_=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.BOTTOM_RIGHT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o,a=t.size,s=void 0===a?{width:150,height:150}:a,l=t.isOpen,u=void 0!==l&&l,c=t.events,f={anchor:e[i],offset:(0,p.getSize)(r.width,r.height),size:(0,p.getSize)(s.width,s.height),isOpen:u};this.instance=new e.BMap.OverviewMapControl(f),(0,p.bindEvents)(this.instance,"OVERVIEW_MAP",c)}}]),n}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=n(4),p=i(c),f=n(11),d=i(f),h=n(2),g=i(h),_=n(5),y=i(_),m=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?p.default.TOP_LEFT:n,o=t.offset,r=void 0===o?{width:81,height:18}:o,a=t.unit,s=void 0===a?d.default.METRIC:a,l={anchor:e[i],offset:(0,u.getSize)(r.width,r.height)};this.instance=new e.BMap.ScaleControl(l),this.instance.setUnit(e[s]),this.map.addControl(this.instance)}}]),n}(y.default))||s;t.default=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(12),g=i(h),_=n(13),y=i(_),m=n(2),v=i(m),b=(0,v.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.TOP_RIGHT:n,o=t.offset,r=void 0===o?{width:10,height:10}:o,a=t.type,s=void 0===a?g.default.HORIZONTAL:a,l=t.mapTypes,u=void 0===l?[y.default.NORMAL,y.default.PERSPECTIVE,y.default.SATELLITE,y.default.HYBRID]:l,c=u.map(function(t){return e[t]}),f={anchor:e[i],offset:(0,p.getSize)(r.width,r.height),type:e[s],mapTypes:c};this.instance=new e.BMap.MapTypeControl(f)}}]),n}(c.default))||s;t.default=b}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(2),g=i(h),_=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.BOTTOM_LEFT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o,a=t.content,s={anchor:e[i],offset:(0,p.getSize)(r.width,r.height)};this.instance=new e.BMap.CopyrightControl(s),this.instance.addCopyright({id:1,content:a,bounds:e.bMapInstance.getBounds()})}}]),n}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(2),g=i(h),_=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.BOTTOM_LEFT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o,a=t.showAddressBar,s=void 0===a||a,l=t.autoLocation,u=void 0!==l&&l,c=t.locationIcon,f=t.events,h={anchor:e[i],offset:(0,p.getSize)(r.width,r.height),showAddressBar:s,enableAutoLocation:u};c&&(h.locationIcon=(0,p.createIcon)(c)),this.instance=new e.BMap.GeolocationControl(h),(0,p.bindEvents)(this.instance,"GEOLOCATION",f)}}]),n}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(2),g=i(h),_=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.TOP_RIGHT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o,a={anchor:e[i],offset:(0,p.getSize)(r.width,r.height)};this.instance=new e.BMap.PanoramaControl(a)}}]),n}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),p=n(1),f=n(4),d=i(f),h=n(2),g=i(h),_=(0,g.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.anchor,i=void 0===n?d.default.TOP_LEFT:n,o=t.offset,r=void 0===o?{width:0,height:0}:o,a=t.onChangeBefore,s=t.onChangeAfter,l={anchor:e[i],offset:(0,p.getSize)(r.width,r.height),onChangeBefore:a,onChangeAfter:s};this.instance=new e.BMap.CityListControl(l)}}]),n}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){this.instance=(0,p.createLabel)(this.props)}}]),t}(c.default))||s;t.default=h},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.points,i=t.strokeColor,o=t.strokeWeight,r=t.strokeOpacity,a=t.strokeStyle,s=t.massClear,l=void 0===s||s,u=t.editing,c=void 0!==u&&u,f=t.clicking,d=void 0===f||f,h=t.icons,g=t.events,_={strokeColor:i,strokeWeight:o,strokeOpacity:r,strokeStyle:a,enableEditing:c,enableClicking:d,enableMassClear:l,icons:h},y=n.map(function(e){return(0,p.getPoint)(e.lng,e.lat)});this.instance=new e.BMap.Polyline(y,_),(0,p.bindEvents)(this.instance,"POLYLINE",g)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.point,i=t.radius,o=t.strokeColor,r=t.fillColor,a=t.strokeWeight,s=t.strokeOpacity,l=t.fillOpacity,u=t.strokeStyle,c=t.massClear,f=void 0===c||c,d=t.editing,h=void 0!==d&&d,g=t.clicking,_=void 0===g||g,y=t.events,m={strokeColor:o,fillColor:r,strokeWeight:a,strokeOpacity:s,fillOpacity:l,strokeStyle:u,enableEditing:h,enableClicking:_,enableMassClear:f};this.instance=new e.BMap.Circle((0,p.getPoint)(n.lng,n.lat),i,m),(0,p.bindEvents)(this.instance,"CIRCLE",y)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.content,i=t.height,o=t.width,r=t.maxWidth,a=t.offset,s=t.title,l=t.autoPan,u=void 0===l||l,c=t.closeOnClick,f=void 0===c||c,d=t.displayMessage,h=void 0===d||d,g=t.message,_=t.events,y={width:o,height:i,maxWidth:r,offset:a&&(0,p.getSize)(a.width,a.height),title:s,enableAutoPan:u,enableCloseOnClick:f,enableMessage:h,message:g};this.instance=new e.BMap.InfoWindow(n,y),(0,p.bindEvents)(this.instance,"INFO_WINDOW",_)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){var t=this.props,n=t.bounds,i=t.opacity,o=t.imageURL,r=t.displayOnMinLevel,a=t.displayOnMaxLevel,s=t.events,l={opacity:i,displayOnMinLevel:r,displayOnMaxLevel:a};this.instance=new e.BMap.GroundOverlay((0,p.getBound)(n),l),this.instance.setImageURL(o),(0,p.bindEvents)(this.instance,"GROUND",s)}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=(0,d.default)(s=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"init",value:function(){if(this.instance=null,(0,p.isSupportContext)()){var t=this.props,n=t.points,i=t.shape,o=t.color,r=t.size,a=t.events,s={shape:i&&top[i],color:o,size:r&&top[r]},l=n.map(function(e){return(0,p.getPoint)(e.lng,e.lat)});this.instance=new e.BMap.PointCollection(l,s),(0,p.bindEvents)(this.instance,"POINT_COLLECTION",a)}}}]),n}(c.default))||s;t.default=h}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=n(1),c=n(2),p=i(c),f=n(14),d=i(f),h=(0,p.default)(l=function(e){function t(e){r(this,t);var n=e.path,i=e.anchor,s=void 0===i?{width:0,height:0}:i,l=e.fillColor,c=e.fillOpacity,p=e.scale,f=e.rotation,d=e.strokeColor,h=e.strokeOpacity,g=e.strokeWeight,_=o(e,["path","anchor","fillColor","fillOpacity","scale","rotation","strokeColor","strokeOpacity","strokeWeight"]);return _.icon=(0,u.createSymbol)({path:n,opts:{anchor:(0,u.getSize)(s.width,s.height),fillColor:l,fillOpacity:c,scale:p,rotation:f,strokeColor:d,strokeOpacity:h,strokeWeight:g}}),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_))}return s(t,e),t}(d.default))||l;t.default=h},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(15),p=i(c),f=n(1),d=n(2),h=i(d),g=(0,h.default)(l=function(t){function n(e){r(this,n);var t=e.name,i=e.onBoundaryError,s=e.autoViewport,l=o(e,["name","onBoundaryError","autoViewport"]),u=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,l));return u.getBoundary(t).then(function(e){l.points=e,u.wrapped.onPropsUpdate(l),s&&(e=e.map(function(e){return(0,f.getPoint)(e.lng,e.lat)}),u.map.setViewport(e))}).catch(function(e){i&&i(e)}),u}return s(n,t),u(n,[{key:"getBoundary",value:function(t){return new Promise(function(n,i){(new e.BMap.Boundary).get(t,function(e){0===e.boundaries.length&&i("未能获取当前输入行政区域");var t=e.boundaries[0].split(";").map(function(e){var t=e.split(",");return{lng:t[0],lat:t[1]}});n(t)})})}}]),n}(p.default))||l;t.default=g}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=n(41),g=i(h),_=(0,d.default)(s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){var e=this;if(!(0,p.isSupportCanvas)())return void(this.instance=null);var t=this.props,n=t.points,i=t.opacity,o=t.max,r=t.radius,a=t.gradient,s={opacity:i,radius:r,gradient:a};this.instance=new g.default(s),n&&setTimeout(function(){e.instance.setDataSet({data:n,max:o})},0)}}]),t}(c.default))||s;t.default=_},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){function e(e,t,n){var i,o,r=e.prototype,a=new Function;a.prototype=t.prototype,o=e.prototype=new a;for(i in r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)}var t=function(){var e=function(e){var t={data:[],heatmap:e};this.max=1,this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n}};e.prototype={addDataPoint:function(e,t){if(!(e<0||t<0)){var n=this,i=n.get("heatmap"),o=n.get("data");if(o[e]||(o[e]=[]),o[e][t]||(o[e][t]=0),o[e][t]+=arguments.length<3?1:arguments[2],n.set("data",o),n.max<o[e][t])return i.get("actx").clearRect(0,0,i.get("width"),i.get("height")),void n.setDataSet({max:o[e][t],data:o},!0);i.drawAlpha(e,t,o[e][t],!0)}},setDataSet:function(e,t){var n=this,i=n.get("heatmap"),o=[],r=e.data,a=r.length;if(i.clear(),this.max=e.max,i.get("legend")&&i.get("legend").update(e.max),null!=t&&t){for(var s in r)if(void 0!==s)for(var l in r[s])void 0!==l&&i.drawAlpha(s,l,r[s][l],!1)}else for(;a--;){var u=r[a];i.drawAlpha(u.x,u.y,u.count,!1),o[u.x]||(o[u.x]=[]),o[u.x][u.y]||(o[u.x][u.y]=0),o[u.x][u.y]=u.count}i.colorize(),this.set("data",r)},exportDataSet:function(){var e=this,t=e.get("data"),n=[];for(var i in t)if(void 0!==i)for(var o in t[i])void 0!==o&&n.push({x:parseInt(i,10),y:parseInt(o,10),count:t[i][o]});return{max:e.max,data:n}},generateRandomDataSet:function(e){var t=this.get("heatmap"),n=t.get("width"),i=t.get("height"),o={},r=Math.floor(1e3*Math.random()+1);o.max=r;for(var a=[];e--;)a.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*i+1),count:Math.floor(Math.random()*r+1)});o.data=a,this.setDataSet(o)}};var t=function(e){this.config=e;var t={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n},this.init()};t.prototype={init:function(){var e,t,n=this,i=n.config,o=i.title||"Legend",r=i.position,a=i.offset||10,s=(i.gradient,document.createElement("ul")),l="";n.processGradientObject(),r.indexOf("t")>-1?l+="top:"+a+"px;":l+="bottom:"+a+"px;",r.indexOf("l")>-1?l+="left:"+a+"px;":l+="right:"+a+"px;",e=document.createElement("div"),e.style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",e.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+o+"</h3>",s.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",t=document.createElement("div"),t.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join(""),e.appendChild(s),e.appendChild(t),n.set("element",e),n.set("labelsEl",s),n.update(1)},processGradientObject:function(){var e=this,t=this.config.gradient,n=[];for(var i in t)t.hasOwnProperty(i)&&n.push({stop:i,value:t[i]});n.sort(function(e,t){return e.stop-t.stop}),n.unshift({stop:0,value:"rgba(0,0,0,0)"}),e.set("gradientArr",n)},createGradientImage:function(){var e,t=this,n=t.get("gradientArr"),i=n.length,o=document.createElement("canvas"),r=o.getContext("2d");o.width="256",o.height="15",e=r.createLinearGradient(0,5,256,10);for(var a=0;a<i;a++)e.addColorStop(1/(i-1)*a,n[a].value);r.fillStyle=e,r.fillRect(0,5,256,10),r.strokeStyle="black",r.beginPath();for(var a=0;a<i;a++)r.moveTo(.5+(1/(i-1)*a*256>>0),0),r.lineTo(.5+(1/(i-1)*a*256>>0),0==a?15:5);return r.moveTo(255.5,0),r.lineTo(255.5,15),r.moveTo(255.5,4.5),r.lineTo(0,4.5),r.stroke(),t.set("ctx",r),o.toDataURL()},getElement:function(){return this.get("element")},update:function(e){for(var t,n,i=this,o=i.get("gradientArr"),r=i.get("ctx"),a=i.get("labelsEl"),s="",l=0;l<o.length;l++)t=e*o[l].stop>>0,n=r.measureText(t).width/2>>0,0==l&&(n=0),l==o.length-1&&(n*=2),s+='<li style="position:absolute;left:'+(((1/(o.length-1)*l*256||0)>>0)-n+.5)+'px">'+t+"</li>";a.innerHTML=s}};var n=function(t){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new e(this),this.get=function(e){return n[e]},this.set=function(e,t){n[e]=t},this.configure(t),this.init()};return n.prototype={configure:function(e){var n=this;if(n.set("radius",e.radius||40),n.set("element",e.element instanceof Object?e.element:document.getElementById(e.element)),n.set("visible",null==e.visible||e.visible),n.set("max",e.max||!1),n.set("gradient",e.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),n.set("opacity",parseInt(255/(100/e.opacity),10)||180),n.set("width",e.width||0),n.set("height",e.height||0),n.set("debug",e.debug),e.legend){var i=e.legend;i.gradient=n.get("gradient"),n.set("legend",new t(i))}},resize:function(){var e=this,t=e.get("element"),n=e.get("canvas"),i=e.get("acanvas");n.width=i.width=e.get("width")||t.style.width.replace(/px/,"")||e.getWidth(t),this.set("width",n.width),n.height=i.height=e.get("height")||t.style.height.replace(/px/,"")||e.getHeight(t),this.set("height",n.height)},init:function(){var e=this,t=document.createElement("canvas"),n=document.createElement("canvas"),i=t.getContext("2d"),o=n.getContext("2d"),r=e.get("element");e.initColorPalette(),e.set("canvas",t),e.set("ctx",i),e.set("acanvas",n),e.set("actx",o),e.resize(),t.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",e.get("visible")||(t.style.display="none"),r.appendChild(t),e.get("legend")&&r.appendChild(e.get("legend").getElement()),e.get("debug")&&document.body.appendChild(n),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var e,t,n,i=this,o=document.createElement("canvas"),r=i.get("gradient");o.width="1",o.height="256",e=o.getContext("2d"),t=e.createLinearGradient(0,0,1,256),n=e.getImageData(0,0,1,1),n.data[0]=n.data[3]=64,n.data[1]=n.data[2]=0,e.putImageData(n,0,0),n=e.getImageData(0,0,1,1),i.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70);for(var a in r)t.addColorStop(a,r[a]);e.fillStyle=t,e.fillRect(0,0,1,256),i.set("gradient",e.getImageData(0,0,1,256).data)},getWidth:function(e){var t=e.offsetWidth;return e.style.paddingLeft&&(t+=e.style.paddingLeft),e.style.paddingRight&&(t+=e.style.paddingRight),t},getHeight:function(e){var t=e.offsetHeight;return e.style.paddingTop&&(t+=e.style.paddingTop),e.style.paddingBottom&&(t+=e.style.paddingBottom),t},colorize:function(e,t){var n,i,o,r,a,s,l,u,c,p=this,f=p.get("width"),d=p.get("radius"),h=p.get("height"),g=p.get("actx"),_=p.get("ctx"),y=3*d,m=p.get("premultiplyAlpha"),v=p.get("gradient"),b=p.get("opacity"),w=p.get("bounds");null!=e&&null!=t?(e+y>f&&(e=f-y),e<0&&(e=0),t<0&&(t=0),t+y>h&&(t=h-y),n=e,i=t,r=e+y,o=t+y):(n=w.l<0?0:w.l,r=w.r>f?f:w.r,i=w.t<0?0:w.t,o=w.b>h?h:w.b),a=g.getImageData(n,i,r-n,o-i),s=a.data.length;for(var O=3;O<s;O+=4)l=a.data[O],u=4*l,u&&(c=l<b?l:b,a.data[O-3]=v[u],a.data[O-2]=v[u+1],a.data[O-1]=v[u+2],m&&(a.data[O-3]/=255/c,a.data[O-2]/=255/c,a.data[O-1]/=255/c),a.data[O]=c);_.putImageData(a,n,i)},drawAlpha:function(e,t,n,i){var o=this,r=o.get("radius"),a=o.get("actx"),s=(o.get("max"),o.get("bounds")),l=e-1.5*r>>0,u=t-1.5*r>>0,c=e+1.5*r>>0,p=t+1.5*r>>0;a.shadowColor="rgba(0,0,0,"+(n?n/o.store.max:"0.1")+")",a.shadowOffsetX=15e3,a.shadowOffsetY=15e3,a.shadowBlur=15,a.beginPath(),a.arc(e-15e3,t-15e3,r,0,2*Math.PI,!0),a.closePath(),a.fill(),i?o.colorize(l,u):(l<s.l&&(s.l=l),u<s.t&&(s.t=u),c>s.r&&(s.r=c),p>s.b&&(s.b=p))},toggleDisplay:function(){var e=this,t=e.get("visible"),n=e.get("canvas");n.style.display=t?"none":"block",e.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var e=this,t=e.get("width"),n=e.get("height");e.store.set("data",[]),e.get("ctx").clearRect(0,0,t,n),e.get("actx").clearRect(0,0,t,n)},cleanup:function(){var e=this;e.get("element").removeChild(e.get("canvas"))}},{create:function(e){return new n(e)},util:{mousePosition:function(e){var t,n;if(e.layerX?(t=e.layerX,n=e.layerY):e.offsetX&&(t=e.offsetX,n=e.offsetY),void 0!==t)return[t,n]}}}}(),n=function(t){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}if(!n._isExtended){n._isExtended=!0,e(n,BMap.Overlay,"HeatmapOverlay");var i=new n(t);this.__proto__=i.__proto__}this.conf=t,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)};return n.prototype.initialize=function(e){this._map=e;var n=document.createElement("div");return n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.border=0,n.style.width=this._map.getSize().width+"px",n.style.height=this._map.getSize().height+"px",this.conf.element=n,e.getPanes().mapPane.appendChild(n),this.heatmap=t.create(this.conf),this._div=n,n},n.prototype.draw=function(){var e=this._map.getBounds();if(!e.equals(this.bounds)){this.bounds=e;var t=this._map.pointToOverlayPixel(e.getNorthEast()),n=this._map.pointToOverlayPixel(e.getSouthWest());if(t&&n){var i=t.y,o=n.x,r=n.y-t.y,a=t.x-n.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=i+"px",this.conf.element.style.width=a+"px",this.conf.element.style.height=r+"px",this.heatmap.store.get("heatmap").resize(),this.latlngs.length>0){this.heatmap.clear();for(var s=this.latlngs.length,l={max:this.heatmap.store.max,data:[]};s--;){var u=this.latlngs[s].latlng;if(e.containsPoint(u)){var c=this._map.pointToOverlayPixel(u),p=new BMap.Pixel(c.x-o,c.y-i),f=this.pixelTransform(p);l.data.push({x:f.x,y:f.y,count:this.latlngs[s].c})}}this.heatmap.store.setDataSet(l)}}}},n.prototype.pixelTransform=function(e){for(var t=this.heatmap.get("width"),n=this.heatmap.get("height");e.x<0;)e.x+=t;for(;e.x>t;)e.x-=t;for(;e.y<0;)e.y+=n;for(;e.y>n;)e.y-=n;return e.x=e.x>>0,e.y=e.y>>0,e},n.prototype._moveendHandler=function(e){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},n.prototype.setDataSet=function(e){if(this._map){var t=this._map.getBounds(),n=this._map.pointToOverlayPixel(t.getNorthEast()),i=this._map.pointToOverlayPixel(t.getSouthWest());n&&i||(this._data=e,this._map.addEventListener("moveend",this._moveendHandler));var o={max:e.max,data:[]},r=e.data,a=r.length;for(this.latlngs=[];a--;){var s=new BMap.Point(r[a].lng,r[a].lat);if(this.latlngs.push({latlng:s,c:r[a].count}),t.containsPoint(s)){var l=this._map.pointToOverlayPixel(s),u=this._map.pointToOverlayPixel(t.getSouthWest()).x,c=this._map.pointToOverlayPixel(t.getNorthEast()).y,p=new BMap.Pixel(l.x-u,l.y-c),f=this.pixelTransform(p);o.data.push({x:f.x,y:f.y,count:r[a].count})}}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},n.prototype.addDataPoint=function(e,t,n){var i=new BMap.Point(e,t),o=this.pixelTransform(this._map.pointToOverlayPixel(i));this.heatmap.store.addDataPoint(o.x,o.y,n),this.latlngs.push({latlng:i,c:n})},n.prototype.toggle=function(){this.heatmap.toggleDisplay()},n})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=n(43),g=i(h),_=(0,d.default)(s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){var e=this.props,t=e.points,n=e.strokeColor,i=e.strokeWeight,o=e.strokeOpacity,r=e.strokeStyle,a=e.massClear,s=void 0===a||a,l=e.clicking,u=void 0===l||l,c=e.editing,f=void 0!==c&&c,d=e.events,h={strokeColor:n,strokeWeight:i,strokeOpacity:o,strokeStyle:r,enableMassClear:s,enableClicking:u},_=[];t&&(_=t.map(function(e){return(0,p.getPoint)(e.lng,e.lat)})),this.instance=new g.default(_,h),f?this.instance.enableEditing():this.instance.disableEditing(),(0,p.bindEvents)(this.instance,"POLYLINE",d)}},{key:"destroy",value:function(){this.instance.disableEditing(),this.map.removeOverlay(this.instance),this.instance=null}}]),t}(c.default))||s;t.default=_},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){function e(e,n){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}var i=t(e),o=new BMap.Polyline(i,n);return o.addEventListener("lineupdate",function(){this.isEditing&&this.enableEditing()}),o.cornerPoints=e,o.editMarkers=[],o.enableEditing=function(){var e=this;if(e.map){e.disableEditing();for(var n=0;n<e.cornerPoints.length;n++){var i=new BMap.Marker(e.cornerPoints[n],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});i.addEventListener("dragend",function(){e.cornerPoints.length=0;for(var n=0;n<e.editMarkers.length;n++)e.cornerPoints.push(e.editMarkers[n].getPosition());var i=t(e.cornerPoints);e.setPath(i)}),i.index=n,e.editMarkers.push(i),e.map.addOverlay(i)}}e.isEditing=!0},o.disableEditing=function(){this.isEditing=!1;for(var e=0;e<this.editMarkers.length;e++)this.map.removeOverlay(this.editMarkers[e]),this.editMarkers[e]=null;this.editMarkers.length=0},o.getPath=function(){return i},o}function t(e){for(var t=[],i=0;i<e.length-1;i++){var o=n(e[i],e[i+1]);o&&o.length>0&&(t=t.concat(o))}return t}function n(e,t){var n=[];if(!(e&&t&&e instanceof BMap.Point&&t instanceof BMap.Point))return null;var i,o,r,a,s,l,u=function(e){return 1-2*e+e*e},c=function(e){return 2*e-2*e*e},p=function(e){return e*e},f=0,d=0;if(void 0===t)return void(void 0!==n&&(n=[]));var h=parseFloat(e.lat),g=parseFloat(t.lat),_=parseFloat(e.lng),y=parseFloat(t.lng);for(y>_&&parseFloat(y-_)>180&&_<0&&(_=parseFloat(360+_)),_>y&&parseFloat(_-y)>180&&y<0&&(y=parseFloat(360+y)),0,l=0,g==h?(i=0,o=_-y):y==_?(i=Math.PI/2,o=h-g):(i=Math.atan((g-h)/(y-_)),o=(g-h)/Math.sin(i)),0==l&&(l=i+Math.PI/5),r=o/2,s=r*Math.cos(l)+_,a=r*Math.sin(l)+h,f=0;f<31;f++)n.push(new BMap.Point(_*u(d)+s*c(d)+y*p(d),h*u(d)+a*c(d)+g*p(d))),d+=1/30;return n}return e})},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(3),p=i(c),f=n(1),d=n(2),h=i(d),g=n(45),_=i(g),y=(0,h.default)(l=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),u(n,[{key:"init",value:function(){var t=this.props,n=t.children,i=t.gridSize,r=t.maxZoom,a=t.minClusterSize,s=t.styles,l=void 0===s?[]:s,u=t.averageCenter,c=void 0!==u&&u,p=n&&!Array.isArray(n)?[n]:n,d=[],h=e.BMap.Marker;p.map(function(e){var t=e.props,n=t.point,i=o(t,["point"]);d.push(new h((0,f.getPoint)(n.lng,n.lat),i))});var g={gridSize:i&&(0,f.getSize)(i.width,i.height),maxZoom:r,minClusterSize:a&&(0,f.getSize)(a.width,a.height),styles:l.map(function(e){return e.size=(0,f.getSize)(e.size.width,e.size.height),e}),isAverageCenter:c,markers:d};this.instance=new _.default(this.map,g)}},{key:"destroy",value:function(){this.instance.clearMarkers(),this.instance=null}}]),n}(p.default))||l;t.default=y}).call(t,n(0))},function(e,t,n){(function(t){var i,o;!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){this._markerClusterer=e,this._map=e.getMap(),this._minClusterSize=e.getMinClusterSize(),this._isAverageCenter=e.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new s(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}var r="undefined"!=typeof window?window:void 0!==t?t:this,a=function(e,t){return t={exports:{}},e(t,t.exports,r),t.exports}(function(e,t,r){!function(r,a){"object"==typeof t?e.exports=a():(i=a,void 0!==(o="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=o))}(0,function(){var e,t=e=t||{version:"1.3.8"},n={};t.guid="$BAIDU$",n[t.guid]=n[t.guid]||{},t.dom=t.dom||{},t.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},t.g=t.G=t.dom.g,t.dom.getDocument=function(e){return e=t.dom.g(e),9==e.nodeType?e:e.ownerDocument||e.document},t.lang=t.lang||{},t.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},t.isString=t.lang.isString,t.dom._g=function(e){return t.lang.isString(e)?document.getElementById(e):e},t._g=t.dom._g,t.browser=t.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.ie=t.ie=document.documentMode||+RegExp.$1),t.dom.getComputedStyle=function(e,n){e=t.dom._g(e);var i,o=t.dom.getDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(e,null))?i[n]||i.getPropertyValue(n):""},t.dom._styleFixer=t.dom._styleFixer||{},t.dom._styleFilter=t.dom._styleFilter||[],t.dom._styleFilter.filter=function(e,n,i){for(var o,r=0,a=t.dom._styleFilter;o=a[r];r++)(o=o[i])&&(n=o(e,n));return n},t.string=t.string||{},t.string.toCamelCase=function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})},t.dom.getStyle=function(e,n){var i=t.dom;e=i.g(e),n=t.string.toCamelCase(n);var o=e.style[n]||(e.currentStyle?e.currentStyle[n]:"")||i.getComputedStyle(e,n);if(!o){var r=i._styleFixer[n];r&&(o=r.get?r.get(e):t.dom.getStyle(e,r))}return(r=i._styleFilter)&&(o=r.filter(n,o,"get")),o},t.getStyle=t.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.opera=+RegExp.$1),t.browser.isWebkit=/webkit/i.test(navigator.userAgent),t.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),t.browser.isStrict="CSS1Compat"==document.compatMode,t.dom.getPosition=function(e){e=t.dom.g(e);var n,i,o=t.dom.getDocument(e),r=t.browser,a=t.dom.getStyle,s=(r.isGecko>0&&o.getBoxObjectFor&&"absolute"==a(e,"position")&&(""===e.style.top||e.style.left),{left:0,top:0}),l=r.ie&&!r.isStrict?o.body:o.documentElement;if(e==l)return s;if(e.getBoundingClientRect){i=e.getBoundingClientRect(),s.left=Math.floor(i.left)+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft),s.top=Math.floor(i.top)+Math.max(o.documentElement.scrollTop,o.body.scrollTop),s.left-=o.documentElement.clientLeft,s.top-=o.documentElement.clientTop;var u=o.body,c=parseInt(a(u,"borderLeftWidth")),p=parseInt(a(u,"borderTopWidth"));r.ie&&!r.isStrict&&(s.left-=isNaN(c)?2:c,s.top-=isNaN(p)?2:p)}else{n=e;do{if(s.left+=n.offsetLeft,s.top+=n.offsetTop,r.isWebkit>0&&"fixed"==a(n,"position")){s.left+=o.body.scrollLeft,s.top+=o.body.scrollTop;break}n=n.offsetParent}while(n&&n!=e);for((r.opera>0||r.isWebkit>0&&"absolute"==a(e,"position"))&&(s.top-=o.body.offsetTop),n=e.offsetParent;n&&n!=o.body;)s.left-=n.scrollLeft,r.opera&&"TR"==n.tagName||(s.top-=n.scrollTop),n=n.offsetParent}return s},t.event=t.event||{},t.event._listeners=t.event._listeners||[],t.event.on=function(e,n,i){n=n.replace(/^on/i,""),e=t.dom._g(e);var o,r=function(t){i.call(e,t)},a=t.event._listeners,s=t.event._eventFilter,l=n;return n=n.toLowerCase(),s&&s[n]&&(o=s[n](e,n,r),l=o.type,r=o.listener),e.addEventListener?e.addEventListener(l,r,!1):e.attachEvent&&e.attachEvent("on"+l,r),a[a.length]=[e,n,i,r,l],e},t.on=t.event.on,function(){var e=n[t.guid];t.lang.guid=function(){return"TANGRAM__"+(e._counter++).toString(36)},e._counter=e._counter||1}(),n[t.guid]._instances=n[t.guid]._instances||{},t.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},t.lang.Class=function(e){this.guid=e||t.lang.guid(),n[t.guid]._instances[this.guid]=this},n[t.guid]._instances=n[t.guid]._instances||{},t.lang.Class.prototype.dispose=function(){delete n[t.guid]._instances[this.guid];for(var e in this)t.lang.isFunction(this[e])||delete this[e];this.disposed=!0},t.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},t.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},t.lang.Class.prototype.addEventListener=function(e,n,i){if(t.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var o,r=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;n.hashCode=i,o=i}0!=e.indexOf("on")&&(e="on"+e),"object"!=typeof r[e]&&(r[e]={}),o=o||t.lang.guid(),n.hashCode=o,r[e][o]=n}},t.lang.Class.prototype.removeEventListener=function(e,n){if(void 0===n||(!t.lang.isFunction(n)||(n=n.hashCode))&&t.lang.isString(n)){!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var i=this.__listeners;if(i[e])if(void 0!==n)i[e][n]&&delete i[e][n];else for(var o in i[e])delete i[e][o]}},t.lang.Class.prototype.dispatchEvent=function(e,n){t.lang.isString(e)&&(e=new t.lang.Event(e)),!this.__listeners&&(this.__listeners={}),n=n||{};for(var i in n)e[i]=n[i];var i,o=this.__listeners,r=e.type;if(e.target=e.target||this,e.currentTarget=this,0!=r.indexOf("on")&&(r="on"+r),t.lang.isFunction(this[r])&&this[r].apply(this,arguments),"object"==typeof o[r])for(i in o[r])o[r][i].apply(this,arguments);return e.returnValue},t.lang.inherits=function(e,t,n){var i,o,r=e.prototype,a=new Function;a.prototype=t.prototype,o=e.prototype=new a;for(i in r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)},t.inherits=t.lang.inherits;var i=function(t,n,o){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}e.lang.inherits(i,BMap.Overlay,"TextIconOverlay"),this._position=t,this._text=n,this._options=o||{},this._styles=this._options.styles||[],!this._styles.length&&this._setupDefaultStyles()};return i.prototype._setupDefaultStyles=function(){for(var e,t=[53,56,66,78,90],n=0;e=t[n];n++)this._styles.push({url:"http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m"+n+".png",size:new BMap.Size(e,e)})},i.prototype.initialize=function(e){return this._map=e,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},i.prototype.draw=function(){this._map&&this._updatePosition()},i.prototype.getText=function(){return this._text},i.prototype.setText=function(e){!e||this._text&&this._text.toString()==e.toString()||(this._text=e,this._updateText(),this._updateCss(),this._updatePosition())},i.prototype.getPosition=function(){return this._position},i.prototype.setPosition=function(e){!e||this._position&&this._position.equals(e)||(this._position=e,this._updatePosition())},i.prototype.getStyleByText=function(e,t){var n=parseInt(e),i=parseInt(n/10);return i=Math.max(0,i),i=Math.min(i,t.length-1),t[i]},i.prototype._updateCss=function(){if(this._domElement){var e=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(e)}},i.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},i.prototype._updatePosition=function(){if(this._domElement&&this._position){var e=this._domElement.style,t=this._map.pointToOverlayPixel(this._position);t.x-=Math.ceil(parseInt(e.width)/2),t.y-=Math.ceil(parseInt(e.height)/2),e.left=t.x+"px",e.top=t.y+"px"}},i.prototype._buildCssText=function(t){var n=t.url,i=t.size,o=t.anchor,r=t.offset,a=t.textColor||"black",s=t.textSize||10,l=[];if(e.browser.ie<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+n+'");');else{l.push("background-image:url("+n+");");var u="0 0";r instanceof BMap.Size&&(u=r.width+"px "+r.height+"px"),l.push("background-position:"+u+";")}return i instanceof BMap.Size&&(o instanceof BMap.Size?(o.height>0&&o.height<i.height&&l.push("height:"+(i.height-o.height)+"px; padding-top:"+o.height+"px;"),o.width>0&&o.width<i.width&&l.push("width:"+(i.width-o.width)+"px; padding-left:"+o.width+"px;")):(l.push("height:"+i.height+"px; line-height:"+i.height+"px;"),l.push("width:"+i.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+a+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},i.prototype._bind=function(){function t(t,n){var o=t.srcElement||t.target,r=t.clientX||t.pageX,a=t.clientY||t.pageY;if(t&&n&&r&&a&&o){var s=e.dom.getPosition(i.getContainer());n.pixel=new BMap.Pixel(r-s.left,a-s.top),n.point=i.pixelToPoint(n.pixel)}return n}if(this._domElement){var n=this,i=this._map,o=e.lang.Event;e.event.on(this._domElement,"mouseover",function(e){n.dispatchEvent(t(e,new o("onmouseover")))}),e.event.on(this._domElement,"mouseout",function(e){n.dispatchEvent(t(e,new o("onmouseout")))}),e.event.on(this._domElement,"click",function(e){n.dispatchEvent(t(e,new o("onclick")))})}},i})}),s=a&&"object"==typeof a&&"default"in a?a.default:a,l=function(e,t,n){t=u(t);var i=e.pointToPixel(t.getNorthEast()),o=e.pointToPixel(t.getSouthWest());i.x+=n,i.y-=n,o.x-=n,o.y+=n;var r=e.pixelToPoint(i),a=e.pixelToPoint(o);return new BMap.Bounds(a,r)},u=function(e){var t=c(e.getNorthEast().lng,-180,180),n=c(e.getSouthWest().lng,-180,180),i=c(e.getNorthEast().lat,-74,74),o=c(e.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(n,o),new BMap.Point(t,i))},c=function(e,t,n){return t&&(e=Math.max(e,t)),n&&(e=Math.min(e,n)),e},p=function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=function(e,t){var n=-1;if(p(t))if(t.indexOf)n=t.indexOf(e);else for(var i,o=0;i=t[o];o++)if(i===e){n=o;break}return n},d=function(e,t){try{BMap}catch(e){throw Error("Baidu Map JS API is not ready yet!")}if(e){this._map=e,this._markers=[],this._clusters=[];var n=t||{};this._gridSize=n.gridSize||60,this._maxZoom=n.maxZoom||18,this._minClusterSize=n.minClusterSize||2,this._isAverageCenter=!1,void 0!=n.isAverageCenter&&(this._isAverageCenter=n.isAverageCenter),this._styles=n.styles||[];var i=this;this._map.addEventListener("zoomend",function(){i._redraw()}),this._map.addEventListener("moveend",function(){i._redraw()});var o=n.markers;p(o)&&this.addMarkers(o)}};return d.prototype.addMarkers=function(e){if(e.length){for(var t=0,n=e.length;t<n;t++)this._pushMarkerTo(e[t]);this._createClusters()}},d.prototype._pushMarkerTo=function(e){-1===f(e,this._markers)&&(e.isInCluster=!1,this._markers.push(e))},d.prototype.addMarker=function(e){this._pushMarkerTo(e),this._createClusters()},d.prototype._createClusters=function(){var e=this._map.getBounds();if(e.getCenter())for(var t,n=l(this._map,e,this._gridSize),i=0;t=this._markers[i];i++)!t.isInCluster&&n.containsPoint(t.getPosition())&&this._addToClosestCluster(t)},d.prototype._addToClosestCluster=function(t){for(var n,i=4e6,o=null,r=(t.getPosition(),0);n=this._clusters[r];r++){var a=n.getCenter();if(a){var s=this._map.getDistance(a,t.getPosition());s<i&&(i=s,o=n)}}if(o&&o.isMarkerInClusterBounds(t))o.addMarker(t);else{var n=new e(this);n.addMarker(t),this._clusters.push(n)}},d.prototype._clearLastClusters=function(){for(var e,t=0;e=this._clusters[t];t++)e.remove();this._clusters=[],this._removeMarkersFromCluster()},d.prototype._removeMarkersFromCluster=function(){for(var e,t=0;e=this._markers[t];t++)e.isInCluster=!1},d.prototype._removeMarkersFromMap=function(){for(var e,t=0;e=this._markers[t];t++){e.isInCluster=!1;var n=e.getLabel();this._map.removeOverlay(e),e.setLabel(n)}},d.prototype._removeMarker=function(e){var t=f(e,this._markers);return-1!==t&&(this._map.removeOverlay(e),this._markers.splice(t,1),!0)},d.prototype.removeMarker=function(e){var t=this._removeMarker(e);return t&&(this._clearLastClusters(),this._createClusters()),t},d.prototype.removeMarkers=function(e){for(var t=!1,n=0;n<e.length;n++){var i=this._removeMarker(e[n]);t=t||i}return t&&(this._clearLastClusters(),this._createClusters()),t},d.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},d.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},d.prototype.getGridSize=function(){return this._gridSize},d.prototype.setGridSize=function(e){this._gridSize=e,this._redraw()},d.prototype.getMaxZoom=function(){return this._maxZoom},d.prototype.setMaxZoom=function(e){this._maxZoom=e,this._redraw()},d.prototype.getStyles=function(){return this._styles},d.prototype.setStyles=function(e){this._styles=e,this._redraw()},d.prototype.getMinClusterSize=function(){return this._minClusterSize},d.prototype.setMinClusterSize=function(e){this._minClusterSize=e,this._redraw()},d.prototype.isAverageCenter=function(){return this._isAverageCenter},d.prototype.getMap=function(){return this._map},d.prototype.getMarkers=function(){return this._markers},d.prototype.getClustersCount=function(){for(var e,t=0,n=0;e=this._clusters[n];n++)e.isReal()&&t++;return t},e.prototype.addMarker=function(e){if(this.isMarkerInCluster(e))return!1;if(this._center){if(this._isAverageCenter){var t=this._markers.length+1,n=(this._center.lat*(t-1)+e.getPosition().lat)/t,i=(this._center.lng*(t-1)+e.getPosition().lng)/t;this._center=new BMap.Point(i,n),this.updateGridBounds()}}else this._center=e.getPosition(),this.updateGridBounds();e.isInCluster=!0,this._markers.push(e);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(e),!0;if(o===this._minClusterSize)for(var r=0;r<o;r++){var a=this._markers[r].getLabel();this._markers[r].getMap()&&this._map.removeOverlay(this._markers[r]),this._markers[r].setLabel(a)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},e.prototype.isMarkerInCluster=function(e){if(this._markers.indexOf)return-1!=this._markers.indexOf(e);for(var t,n=0;t=this._markers[n];n++)if(t===e)return!0;return!1},e.prototype.isMarkerInClusterBounds=function(e){return this._gridBounds.containsPoint(e.getPosition())},e.prototype.isReal=function(e){return this._isReal},e.prototype.updateGridBounds=function(){var e=new BMap.Bounds(this._center,this._center);this._gridBounds=l(this._map,e,this._markerClusterer.getGridSize())},e.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var e,t=0;e=this._markers[t];t++)this._map.addOverlay(e)}else{if(this._markers.length<this._minClusterSize)return void this._clusterMarker.hide();this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(e){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this))}},e.prototype.remove=function(){for(var e=0;this._markers[e];e++){var t=this._markers[e].getLabel();this._markers[e].getMap()&&this._map.removeOverlay(this._markers[e]),this._markers[e].setLabel(t)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},e.prototype.getBounds=function(){for(var e,t=new BMap.Bounds(this._center,this._center),n=0;e=this._markers[n];n++)t.extend(e.getPosition());return t},e.prototype.getCenter=function(){return this._center},d})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=n(1),f=n(2),d=i(f),h=n(4),g=i(h),_=(0,d.default)(s=function(t){function i(e){o(this,i);var t=r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return(0,p.appendCss)({url:"http://api.map.baidu.com/library/DrawingManager/1.4/src/DrawingManager_min.css"}),t}return a(i,t),l(i,[{key:"init",value:function(){var t=this.props,i=t.anchor,o=void 0===i?g.default.TOP_RIGHT:i,r=t.offset,a=void 0===r?{width:10,height:10}:r,s=t.styleOptions,l=void 0===s?{strokeColor:"red",fillColor:"red",strokeWeight:3,strokeOpacity:.8,fillOpacity:.6,strokeStyle:"solid"}:s,u=n(47);this.instance=new u(this.map,{enableDrawingTool:!0,drawingToolOptions:{anchor:e[o],offset:(0,p.getSize)(a.width,a.height)},circleOptions:l,polylineOptions:l,polygonOptions:l,rectangleOptions:l,markerOptions:l})}}]),i}(c.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";var i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===r(t)?e.exports=s():(i=s,void 0!==(o="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=o))}(0,function(){function e(){this._enableEdgeMove=!1}function t(e,t){this.drawingManager=e,t=this.drawingToolOptions=t||{},this.defaultAnchor=BMAP_ANCHOR_TOP_LEFT,this.defaultOffset=new BMap.Size(10,10),this.defaultDrawingModes=[i,a,o,l,s],t.drawingModes?this.drawingModes=t.drawingModes:this.drawingModes=this.defaultDrawingModes,t.anchor&&this.setAnchor(t.anchor),t.offset&&this.setOffset(t.offset)}function n(e){for(var t=p.length;t--;)p[t]!=e&&p[t].close()}var i="marker",o="polyline",a="circle",s="rectangle",l="polygon",u=u||{guid:"$BAIDU$"};!function(){window[u.guid]={},u.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u.lang=u.lang||{},u.lang.guid=function(){return"TANGRAM__"+(window[u.guid]._counter++).toString(36)},window[u.guid]._counter=window[u.guid]._counter||1,window[u.guid]._instances=window[u.guid]._instances||{},u.lang.Class=function(e){this.guid=e||u.lang.guid(),window[u.guid]._instances[this.guid]=this},window[u.guid]._instances=window[u.guid]._instances||{},u.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},u.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},u.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},u.lang.Class.prototype.dispose=function(){delete window[u.guid]._instances[this.guid];for(var e in this)u.lang.isFunction(this[e])||delete this[e];this.disposed=!0},u.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},u.lang.Class.prototype.addEventListener=function(e,t,n){if(u.lang.isFunction(t)){!this.__listeners&&(this.__listeners={});var i,o=this.__listeners;if("string"==typeof n&&n){if(/[^\w\-]/.test(n))throw"nonstandard key:"+n;t.hashCode=n,i=n}0!=e.indexOf("on")&&(e="on"+e),"object"!=r(o[e])&&(o[e]={}),i=i||u.lang.guid(),t.hashCode=i,o[e][i]=t}},u.lang.Class.prototype.removeEventListener=function(e,t){if(u.lang.isFunction(t))t=t.hashCode;else if(!u.lang.isString(t))return;!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var n=this.__listeners;n[e]&&n[e][t]&&delete n[e][t]},u.lang.Class.prototype.dispatchEvent=function(e,t){u.lang.isString(e)&&(e=new u.lang.Event(e)),!this.__listeners&&(this.__listeners={}),t=t||{};for(var n in t)e[n]=t[n];var n,i=this.__listeners,o=e.type;if(0!=o.indexOf("on")&&(o="on"+o),u.lang.isFunction(this[o])&&this[o].apply(this,arguments),"object"==r(i[o]))for(n in i[o])i[o][n].apply(this,arguments);return e.returnValue},u.lang.inherits=function(e,t,n){var i,o,r=e.prototype,a=new Function;a.prototype=t.prototype,o=e.prototype=new a;for(i in r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)},u.dom=u.dom||{},u._g=u.dom._g=function(e){return u.lang.isString(e)?document.getElementById(e):e},u.g=u.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},u.insertHTML=u.dom.insertHTML=function(e,t,n){e=u.dom.g(e);var i,o;return e.insertAdjacentHTML?e.insertAdjacentHTML(t,n):(i=e.ownerDocument.createRange(),t=t.toUpperCase(),"AFTERBEGIN"==t||"BEFOREEND"==t?(i.selectNodeContents(e),i.collapse("AFTERBEGIN"==t)):(o="BEFOREBEGIN"==t,i[o?"setStartBefore":"setEndAfter"](e),i.collapse(o)),i.insertNode(i.createContextualFragment(n))),e},u.ac=u.dom.addClass=function(e,t){e=u.dom.g(e);for(var n=t.split(/\s+/),i=e.className,o=" "+i+" ",r=0,a=n.length;r<a;r++)o.indexOf(" "+n[r]+" ")<0&&(i+=(i?" ":"")+n[r]);return e.className=i,e},u.event=u.event||{},u.event._listeners=u.event._listeners||[],u.on=u.event.on=function(e,t,n){t=t.replace(/^on/i,""),e=u._g(e);var i,o=function(t){n.call(e,t)},r=u.event._listeners,a=u.event._eventFilter,s=t;return t=t.toLowerCase(),a&&a[t]&&(i=a[t](e,t,o),s=i.type,o=i.listener),e.addEventListener?e.addEventListener(s,o,!1):e.attachEvent&&e.attachEvent("on"+s,o),r[r.length]=[e,t,n,o,s],e},u.un=u.event.un=function(e,t,n){e=u._g(e),t=t.replace(/^on/i,"").toLowerCase();for(var i,o,r,a=u.event._listeners,s=a.length,l=!n;s--;)i=a[s],i[1]!==t||i[0]!==e||!l&&i[2]!==n||(o=i[4],r=i[3],e.removeEventListener?e.removeEventListener(o,r,!1):e.detachEvent&&e.detachEvent("on"+o,r),a.splice(s,1));return e},u.getEvent=u.event.getEvent=function(e){return window.event||e},u.getTarget=u.event.getTarget=function(e){var e=u.getEvent(e);return e.target||e.srcElement},u.preventDefault=u.event.preventDefault=function(e){var e=u.getEvent(e);e.preventDefault?e.preventDefault():e.returnValue=!1},u.stopBubble=u.event.stopBubble=function(e){e=u.getEvent(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},u.browser=u.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(u.browser.ie=u.ie=document.documentMode||+RegExp.$1)}();var c=function(e,t){e&&(p.push(this),t=t||{},this._initialize(e,t))};u.lang.inherits(c,u.lang.Class,"DrawingManager"),c.prototype.open=function(){if(1==this._isOpen)return!0;n(this),this._open()},c.prototype.close=function(){if(0==this._isOpen)return!0;var e=this;this._close(),setTimeout(function(){e._map.enableDoubleClickZoom()},2e3)},c.prototype.setDrawingMode=function(e){this._drawingType!=e&&(n(this),this._setDrawingMode(e))},c.prototype.getDrawingMode=function(){return this._drawingType},c.prototype.enableCalculate=function(){this._enableCalculate=!0,this._addGeoUtilsLibrary()},c.prototype.disableCalculate=function(){this._enableCalculate=!1},c.prototype._initialize=function(e,n){if(this._map=e,this._opts=n,this._drawingType=n.drawingMode||i,n.enableDrawingTool){var o=new t(this,n.drawingToolOptions);this._drawingTool=o,e.addControl(o)}!0===n.enableCalculate?this.enableCalculate():this.disableCalculate(),this._isOpen=!(!0!==n.isOpen),this._isOpen&&this._open(),this.markerOptions=n.markerOptions||{},this.circleOptions=n.circleOptions||{},this.polylineOptions=n.polylineOptions||{},this.polygonOptions=n.polygonOptions||{},this.rectangleOptions=n.rectangleOptions||{},this.controlButton="right"==n.controlButton?"right":"left"},c.prototype._open=function(){this._isOpen=!0,this._mask||(this._mask=new e),this._map.addOverlay(this._mask),this._setDrawingMode(this._drawingType)},c.prototype._setDrawingMode=function(e){if(this._drawingType=e,this._isOpen)switch(this._mask.__listeners={},e){case i:this._bindMarker();break;case a:this._bindCircle();break;case o:case l:this._bindPolylineOrPolygon();break;case s:this._bindRectangle()}this._drawingTool&&this._isOpen&&this._drawingTool.setStyleByDrawingMode(e)},c.prototype._close=function(){this._isOpen=!1,this._mask&&this._map.removeOverlay(this._mask),this._drawingTool&&this._drawingTool.setStyleByDrawingMode("hander")},c.prototype._bindMarker=function(){var e=this,t=this._map,n=this._mask,i=function(n){var i=new BMap.Marker(n.point,e.markerOptions);t.addOverlay(i),e._dispatchOverlayComplete(i)};n.addEventListener("click",i)},c.prototype._bindCircle=function(){var e=this,t=this._map,n=this._mask,i=null,o=null,r=function(r){("right"!=e.controlButton||1!=r.button&&0!=r.button)&&(o=r.point,i=new BMap.Circle(o,0,e.circleOptions),t.addOverlay(i),n.enableEdgeMove(),n.addEventListener("mousemove",a),u.on(document,"mouseup",s))},a=function(t){i.setRadius(e._map.getDistance(o,t.point))},s=function t(r){var s=e._calculate(i,r.point);e._dispatchOverlayComplete(i,s),o=null,n.disableEdgeMove(),n.removeEventListener("mousemove",a),u.un(document,"mouseup",t)},l=function(t){u.preventDefault(t),u.stopBubble(t),"right"==e.controlButton&&1==t.button||null==o&&r(t)};n.addEventListener("mousedown",l)},c.prototype._bindPolylineOrPolygon=function(){var e=this,t=this._map,n=this._mask,i=[],r=null,a=null,s=!1,c=function(u){("right"!=e.controlButton||1!=u.button&&0!=u.button)&&(i.push(u.point),r=i.concat(i[i.length-1]),1==i.length?(e._drawingType==o?a=new BMap.Polyline(r,e.polylineOptions):e._drawingType==l&&(a=new BMap.Polygon(r,e.polygonOptions)),t.addOverlay(a)):a.setPath(r),s||(s=!0,n.enableEdgeMove(),n.addEventListener("mousemove",p),n.addEventListener("dblclick",f)))},p=function(e){a.setPositionAt(r.length-1,e.point)},f=function t(o){u.stopBubble(o),s=!1,n.disableEdgeMove(),n.removeEventListener("mousedown",c),n.removeEventListener("mousemove",p),n.removeEventListener("dblclick",t),"right"==e.controlButton?i.push(o.point):u.ie<=8||i.pop(),a.setPath(i);var l=e._calculate(a,i.pop());e._dispatchOverlayComplete(a,l),i.length=0,r.length=0,e.close()};n.addEventListener("mousedown",c),n.addEventListener("dblclick",function(e){u.stopBubble(e)})},c.prototype._bindRectangle=function(){var e=this,t=this._map,n=this._mask,i=null,o=null,r=function(r){if(u.stopBubble(r),u.preventDefault(r),"right"!=e.controlButton||1!=r.button&&0!=r.button){o=r.point;var l=o;i=new BMap.Polygon(e._getRectanglePoint(o,l),e.rectangleOptions),t.addOverlay(i),n.enableEdgeMove(),n.addEventListener("mousemove",a),u.on(document,"mouseup",s)}},a=function(t){i.setPath(e._getRectanglePoint(o,t.point))},s=function t(r){var s=e._calculate(i,i.getPath()[2]);e._dispatchOverlayComplete(i,s),o=null,n.disableEdgeMove(),n.removeEventListener("mousemove",a),u.un(document,"mouseup",t)};n.addEventListener("mousedown",r)},c.prototype._calculate=function(e,t){var n={data:0,label:null};if(this._enableCalculate&&BMapLib.GeoUtils){switch(e.toString()){case"[object Polyline]":n.data=BMapLib.GeoUtils.getPolylineDistance(e);break;case"[object Polygon]":n.data=BMapLib.GeoUtils.getPolygonArea(e);break;case"[object Circle]":var i=e.getRadius();n.data=Math.PI*i*i}!n.data||n.data<0?n.data=0:n.data=n.data.toFixed(2),n.label=this._addLabel(t,n.data)}return n},c.prototype._addGeoUtilsLibrary=function(){if(!BMapLib.GeoUtils){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","http://api.map.baidu.com/library/GeoUtils/1.2/src/GeoUtils_min.js"),document.body.appendChild(e)}},c.prototype._addLabel=function(e,t){var n=new BMap.Label(t,{position:e});return this._map.addOverlay(n),n},c.prototype._getRectanglePoint=function(e,t){return[new BMap.Point(e.lng,e.lat),new BMap.Point(t.lng,e.lat),new BMap.Point(t.lng,t.lat),new BMap.Point(e.lng,t.lat)]},c.prototype._dispatchOverlayComplete=function(e,t){var n={overlay:e,drawingMode:this._drawingType};t&&(n.calculate=t.data||null,n.label=t.label||null),this.dispatchEvent(this._drawingType+"complete",e),this.dispatchEvent("overlaycomplete",n)},e.prototype=new BMap.Overlay,e.prototype.dispatchEvent=u.lang.Class.prototype.dispatchEvent,e.prototype.addEventListener=u.lang.Class.prototype.addEventListener,e.prototype.removeEventListener=u.lang.Class.prototype.removeEventListener,e.prototype.initialize=function(e){var t=this;this._map=e;var n=this.container=document.createElement("div"),i=this._map.getSize();return n.style.cssText="position:absolute;background:url(about:blank);cursor:crosshair;width:"+i.width+"px;height:"+i.height+"px",this._map.addEventListener("resize",function(e){t._adjustSize(e.size)}),this._map.getPanes().floatPane.appendChild(n),this._bind(),n},e.prototype.draw=function(){var e=this._map,t=e.pixelToPoint(new BMap.Pixel(0,0)),n=e.pointToOverlayPixel(t);this.container.style.left=n.x+"px",this.container.style.top=n.y+"px"},e.prototype.enableEdgeMove=function(){this._enableEdgeMove=!0},e.prototype.disableEdgeMove=function(){clearInterval(this._edgeMoveTimer),this._enableEdgeMove=!1},e.prototype._bind=function(){for(var e=this,t=(this._map,this.container),n=null,i=null,o=function(e){return{x:e.clientX,y:e.clientY}},r=function(t){var r=t.type,t=u.getEvent(t),a=e.getDrawPoint(t),s=function(n){t.point=a,e.dispatchEvent(t)};"mousedown"==r&&(n=o(t));var l=o(t);"click"==r?Math.abs(l.x-n.x)<5&&Math.abs(l.y-n.y)<5&&(i&&Math.abs(l.x-i.x)<5&&Math.abs(l.y-i.y)<5?i=null:(s(),i=o(t))):s()},a=["click","mousedown","mousemove","mouseup","dblclick"],s=a.length;s--;)u.on(t,a[s],r);u.on(t,"mousemove",function(t){e._enableEdgeMove&&e.mousemoveAction(t)})},e.prototype.mousemoveAction=function(e){var t=this._map,n=this,i=t.pointToPixel(this.getDrawPoint(e)),o=function(e){var t=e.clientX,n=e.clientY;return e.changedTouches&&(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY),new BMap.Pixel(t,n)}(e),r=o.x-i.x,a=o.y-i.y;i=new BMap.Pixel(o.x-r,o.y-a),this._draggingMovePixel=i;t.pixelToPoint(i);this._panByX=this._panByY=0,i.x<=20||i.x>=t.width-20||i.y<=50||i.y>=t.height-10?(i.x<=20?this._panByX=8:i.x>=t.width-20&&(this._panByX=-8),i.y<=50?this._panByY=8:i.y>=t.height-10&&(this._panByY=-8),this._edgeMoveTimer||(this._edgeMoveTimer=setInterval(function(){t.panBy(n._panByX,n._panByY,{noAnimation:!0})},30))):this._edgeMoveTimer&&(clearInterval(this._edgeMoveTimer),this._edgeMoveTimer=null)},e.prototype._adjustSize=function(e){this.container.style.width=e.width+"px",this.container.style.height=e.height+"px"},e.prototype.getDrawPoint=function(e){var t=this._map,n=u.getTarget(e),i=e.offsetX||e.layerX||0,o=e.offsetY||e.layerY||0;for(1!=n.nodeType&&(n=n.parentNode);n&&n!=t.getContainer();)0==n.clientWidth&&0==n.clientHeight&&n.offsetParent&&"TD"==n.offsetParent.nodeName||(i+=n.offsetLeft||0,o+=n.offsetTop||0),n=n.offsetParent;var r=new BMap.Pixel(i,o);return t.pixelToPoint(r)},t.prototype=new BMap.Control,t.prototype.initialize=function(e){var t=this.container=document.createElement("div");t.className="BMapLib_Drawing";var n=this.panel=document.createElement("div");return n.className="BMapLib_Drawing_panel",this.drawingToolOptions&&this.drawingToolOptions.scale&&this._setScale(this.drawingToolOptions.scale),t.appendChild(n),n.innerHTML=this._generalHtml(),this._bind(n),e.getContainer().appendChild(t),t},t.prototype._generalHtml=function(e){var t={};t.hander="拖动地图",t[i]="画点",t[a]="画圆",t[o]="画折线",t[l]="画多边形",t[s]="画矩形";var n=function(e,n){return'<a class="'+e+'" drawingType="'+n+'" href="javascript:void(0)" title="'+t[n]+'" onfocus="this.blur()"></a>'},r=[];r.push(n("BMapLib_box BMapLib_hander","hander"));for(var u=0,c=this.drawingModes.length;u<c;u++){var p="BMapLib_box BMapLib_"+this.drawingModes[u];u==c-1&&(p+=" BMapLib_last"),r.push(n(p,this.drawingModes[u]))}return r.join("")},t.prototype._setScale=function(e){var t=-parseInt((390-390*e)/2,10),n=-parseInt((50-50*e)/2,10);this.container.style.cssText=["-moz-transform: scale("+e+");","-o-transform: scale("+e+");","-webkit-transform: scale("+e+");","transform: scale("+e+");","margin-left:"+t+"px;","margin-top:"+n+"px;","*margin-left:0px;","*margin-top:0px;","margin-left:0px\\0;","margin-top:0px\\0;","filter: progid:DXImageTransform.Microsoft.Matrix(","M11="+e+",","M12=0,","M21=0,","M22="+e+",","SizingMethod='auto expand');"].join("")},t.prototype._bind=function(e){var t=this;u.on(this.panel,"click",function(e){var n=u.getTarget(e),i=n.getAttribute("drawingType");t.setStyleByDrawingMode(i),t._bindEventByDraingMode(i)})},t.prototype.setStyleByDrawingMode=function(e){if(e)for(var t=this.panel.getElementsByTagName("a"),n=0,i=t.length;n<i;n++){var o=t[n];if(o.getAttribute("drawingType")==e){var r="BMapLib_box BMapLib_"+e+"_hover";n==i-1&&(r+=" BMapLib_last"),o.className=r}else o.className=o.className.replace(/_hover/,"")}},t.prototype._bindEventByDraingMode=function(e){var t=this.drawingManager;"hander"==e?(t.close(),t._map.enableDoubleClickZoom()):(t.setDrawingMode(e),t.open(),t._map.disableDoubleClickZoom())};var p=[];return c})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),p=(n(1),n(2)),f=i(p),d=n(4),h=i(d),g=(0,f.default)(s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"init",value:function(){var e=this.props,t=e.anchor,i=(void 0===t&&h.default.TOP_RIGHT,e.offset,e.styleOptions,n(49));this.instance=new i(this.map),this.instance.open()}}]),t}(c.default))||s;t.default=g},function(e,t,n){"use strict";(function(i){var o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,s){"object"===a(t)?e.exports=s():(o=s,void 0!==(r="function"==typeof o?o.call(t,n,t,e):o)&&(e.exports=r))}(0,function(){function e(e){var e=window.event||e;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}var t=t||{guid:"$BAIDU$"};!function(){window[t.guid]={},t.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.lang=t.lang||{},t.lang.guid=function(){return"TANGRAM__"+(window[t.guid]._counter++).toString(36)},window[t.guid]._counter=window[t.guid]._counter||1,window[t.guid]._instances=window[t.guid]._instances||{},t.lang.Class=function(e){this.guid=e||t.lang.guid(),window[t.guid]._instances[this.guid]=this},window[t.guid]._instances=window[t.guid]._instances||{},t.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},t.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},t.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},t.lang.Class.prototype.dispose=function(){delete window[t.guid]._instances[this.guid];for(var e in this)t.lang.isFunction(this[e])||delete this[e];this.disposed=!0},t.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},t.lang.Class.prototype.addEventListener=function(e,n,i){if(t.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var o,r=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;n.hashCode=i,o=i}0!=e.indexOf("on")&&(e="on"+e),"object"!=a(r[e])&&(r[e]={}),o=o||t.lang.guid(),n.hashCode=o,r[e][o]=n}},t.lang.Class.prototype.removeEventListener=function(e,n){if(t.lang.isFunction(n))n=n.hashCode;else if(!t.lang.isString(n))return;!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var i=this.__listeners;i[e]&&i[e][n]&&delete i[e][n]},t.lang.Class.prototype.dispatchEvent=function(e,n){t.lang.isString(e)&&(e=new t.lang.Event(e)),!this.__listeners&&(this.__listeners={}),n=n||{};for(var i in n)e[i]=n[i];var i,o=this.__listeners,r=e.type;if(e.target=e.target||this,e.currentTarget=this,0!=r.indexOf("on")&&(r="on"+r),t.lang.isFunction(this[r])&&this[r].apply(this,arguments),"object"==a(o[r]))for(i in o[r])o[r][i].apply(this,arguments);return e.returnValue},t.lang.inherits=function(e,t,n){var i,o,r=e.prototype,a=new Function;a.prototype=t.prototype,o=e.prototype=new a;for(i in r)o[i]=r[i];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o._className=n)},t.dom=t.dom||{},t._g=t.dom._g=function(e){return t.lang.isString(e)?document.getElementById(e):e},t.g=t.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},t.insertHTML=t.dom.insertHTML=function(e,n,i){e=t.dom.g(e);var o,r;return e.insertAdjacentHTML?e.insertAdjacentHTML(n,i):(o=e.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(o.selectNodeContents(e),o.collapse("AFTERBEGIN"==n)):(r="BEFOREBEGIN"==n,o[r?"setStartBefore":"setEndAfter"](e),o.collapse(r)),o.insertNode(o.createContextualFragment(i))),e},t.ac=t.dom.addClass=function(e,n){e=t.dom.g(e);for(var i=n.split(/\s+/),o=e.className,r=" "+o+" ",a=0,s=i.length;a<s;a++)r.indexOf(" "+i[a]+" ")<0&&(o+=(o?" ":"")+i[a]);return e.className=o,e},t.event=t.event||{},t.event._listeners=t.event._listeners||[],t.on=t.event.on=function(e,n,i){n=n.replace(/^on/i,""),e=t._g(e);var o,r=function(t){i.call(e,t)},a=t.event._listeners,s=t.event._eventFilter,l=n;return n=n.toLowerCase(),s&&s[n]&&(o=s[n](e,n,r),l=o.type,r=o.listener),e.addEventListener?e.addEventListener(l,r,!1):e.attachEvent&&e.attachEvent("on"+l,r),a[a.length]=[e,n,i,r,l],e},t.un=t.event.un=function(e,n,i){e=t._g(e),n=n.replace(/^on/i,"").toLowerCase();for(var o,r,a,s=t.event._listeners,l=s.length,u=!i;l--;)o=s[l],o[1]!==n||o[0]!==e||!u&&o[2]!==i||(r=o[4],a=o[3],e.removeEventListener?e.removeEventListener(r,a,!1):e.detachEvent&&e.detachEvent("on"+r,a),s.splice(l,1));return e},t.preventDefault=t.event.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}}();var n=function(e,n){e&&(this._map=e,n=n||{},this._opts=t.extend(t.extend(this._opts||{},{tips:"测距",followText:"单击确定地点，双击结束",unit:"metric",lineColor:"#ff6319",lineStroke:2,opacity:.8,lineStyle:"solid",cursor:"http://api.map.baidu.com/images/ruler.cur",secIcon:null,closeIcon:null}),n),this._followTitle=null,this._points=[],this._paths=[],this._dots=[],this._segDistance=[],this._overlays=[],this._enableMassClear=!0,this._units={metric:{name:"metric",conv:1,incon:1e3,u1:"米",u2:"公里"},us:{name:"us",conv:3.2808,incon:5279.856,u1:"英尺",u2:"英里"}},this._isOpen=!1,this._startFollowText="单击确定起点",this._movingTimerId=null,this._styles={BMapLib_diso:"height:17px;width:5px;position:absolute;background:url(http://api.map.baidu.com/images/dis_box_01.gif) no-repeat left top",BMapLib_disi:"color:#7a7a7a;position:absolute;left:5px;padding:0 4px 1px 0;line-height:17px;background:url(http://api.map.baidu.com/images/dis_box_01.gif) no-repeat right top",BMapLib_disBoxDis:"color:#ff6319;font-weight:bold"},this._opts.lineStroke<=0&&(this._opts.lineStroke=2),this._opts.opacity>1?this._opts.opacity=1:this._opts.opacity<0&&(this._opts.opacity=0),"solid"!=this._opts.lineStyle&&"dashed"!=this._opts.lineStyle&&(this._opts.lineStyle="solid"),this._units[this._opts.unit]||(this._opts.unit="metric"),this.text="测距")};t.lang.inherits(n,t.lang.Class,"DistanceTool"),n.prototype._bind=function(){this._setCursor(this._opts.cursor);var e=this;if(t.on(this._map.getContainer(),"mousemove",function(t){if(e._isOpen&&e._followTitle){t=window.event||t;if((t.target||t.srcElement)!=o.getDom(e._map))return void e._followTitle.hide();e._mapMoving||e._followTitle.show();var n=o.getDrawPoint(t,!0);e._followTitle.setPosition(n)}}),this._startFollowText){this._followTitle=new BMap.Label(this._startFollowText,{offset:new BMap.Size(14,16)});this._followTitle.setStyles({color:"#333",borderColor:"#ff0103"})}},n.prototype.open=function(){if(1==this._isOpen)return!0;if(!i._toolInUse){this._isOpen=!0,i._toolInUse=!0,this._mapMoving&&delete this._mapMoving;var e=this;this._binded||(this._binded=!0,this._bind(),this._map.addEventListener("moving",function(){e._hideCurrent()})),this._followTitle&&(this._map.addOverlay(this._followTitle),this._followTitle.hide());var n=function(n){var i=e._map;if(e._isOpen){n=window.event||n;var r=o.getDrawPoint(n,!0);if(e._isPointValid(r)){if(e._bind.initX=n.pageX||n.clientX||0,e._bind.initY=n.pageY||n.clientY||0,e._points.length>0){var a=i.pointToPixel(e._points[e._points.length-1]),s=i.pointToPixel(r);if(Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2))<5)return}e._bind.x=n.layerX||n.offsetX||0,e._bind.y=n.layerY||n.offsetY||0,e._points.push(r),e._addSecPoint(r),0==e._paths.length&&e._formatTitle(1,e._opts.followText,e._getTotalDistance()),e._paths.length>0&&(e._paths[e._paths.length-1].show(),e._paths[e._paths.length-1].setStrokeOpacity(e._opts.opacity));var l=new BMap.Polyline([r,r],{enableMassClear:e._enableMassClear});if(e._map.addOverlay(l),e._paths.push(l),e._overlays.push(l),l.setStrokeWeight(e._opts.lineStroke),l.setStrokeColor(e._opts.lineColor),l.setStrokeOpacity(e._opts.opacity/2),l.setStrokeStyle(e._opts.lineStyle),e._mapMoving&&l.hide(),e._points.length>1){e._paths[e._points.length-2].setPositionAt(1,r)}var u="";if(e._points.length>1){var c=(e._setSegDistance(e._points[e._points.length-2],e._points[e._points.length-1]),e._getTotalDistance());u=e._formatDisStr(c)}else u="起点";var p=new BMap.Label(u,{offset:new BMap.Size(10,-5),enableMassClear:e._enableMassClear});p.setStyles({color:"#333",borderColor:"#ff0103"}),e._map.addOverlay(p),e._formatSegLabel(p,u),e._overlays.push(p),r.disLabel=p,p.setPosition(r);var f=new t.lang.Event("onaddpoint");f.point=r,f.pixel=e._map.pointToPixel(r),f.index=e._points.length-1,f.distance=e._getTotalDistance().toFixed(0),e.dispatchEvent(f)}}},r=function t(n){if(e._isOpen)if(e._paths.length>0){n=window.event||n;var i=n.pageX||n.clientX||0,r=n.pageY||n.clientY||0;void 0===e._bind.initX&&(e._bind.x=n.layerX||n.offsetX||0,e._bind.y=n.layerY||n.offsetY||0,e._bind.initX=i,e._bind.initY=r);var a=e._bind.x+i-e._bind.initX,s=e._bind.y+r-e._bind.initY,l=e._paths[e._paths.length-1],u=e._map.pixelToPoint(new BMap.Pixel(a,s));l.setPositionAt(1,u),e._mapMoving||l.show();var c=0,p=0;if(a<10?c=8:a>e._map.getSize().width-10&&(c=-8),s<10?p=8:s>e._map.getSize().height-10&&(p=-8),0!=c||0!=p)t._movingTimerId||(e._mapMoving=!0,e._map.panBy(c,p,{noAnimation:!0}),e._movingTimerId=t._movingTimerId=setInterval(function(){e._map.panBy(c,p,{noAnimation:!0})},30),l.hide(),e._followTitle&&e._followTitle.hide());else if(t._movingTimerId){clearInterval(t._movingTimerId),delete t._movingTimerId,delete e._movingTimerId;var f=e._paths[e._paths.length-1],d=e._map.pixelToPoint(new BMap.Pixel(a,s));if(!f)return;f.setPositionAt(1,d),f.show(),e._followTitle&&(e._followTitle.setPosition(d),e._followTitle.show()),e._bind.i=0,e._bind.j=0,delete e._mapMoving}if(e._followTitle){var h=e._getTotalDistance(),g=e._map.getDistance(e._points[e._points.length-1],u);e._updateInstDis(e._followTitle,h+g)}}else if(e._followTitle){e._followTitle.show(),n=window.event||n;var _=n.target||n.srcElement;_!=o.getDom()&&e._followTitle.hide()}},a=function i(a){e._isOpen&&(t.un(o.getDom(e._map),"click",n),t.un(document,"mousemove",r),t.un(o.getDom(e._map),"dblclick",i),t.un(document,"keydown",s),t.un(o.getDom(e._map),"mouseup",l),setTimeout(function(){e.close()},50))},s=function(t){t=window.event||t,27==t.keyCode&&(e._clearCurData(),setTimeout(function(){e.close()},50))},l=function(t){t=window.event||t;var n=0;/msie (\d+\.\d)/i.test(navigator.userAgent)&&(n=document.documentMode||+RegExp.$1),(n&&1!=t.button||2==t.button)&&e.close()};return e._initData(),this._formatTitle(),o.show(this._map),this._setCursor(this._opts.cursor),t.on(o.getDom(this._map),"click",n),t.on(document,"mousemove",r),t.on(o.getDom(this._map),"dblclick",a),t.on(document,"keydown",s),t.on(o.getDom(this._map),"mouseup",l),this.bindFunc=[{elem:o.getDom(this._map),type:"click",func:n},{elem:o.getDom(this._map),type:"dblclick",func:a},{elem:document,type:"mousemove",func:r},{elem:document,type:"keydown",func:s},{elem:o.getDom(this._map),type:"mouseup",func:l}],!0}},n.prototype._dispatchLastEvent=function(){var e=new t.lang.Event("ondrawend");e.points=this._points?this._points.slice(0):[],e.overlays=this._paths?this._paths.slice(0,this._paths.length-1):[],e.distance=this._getTotalDistance().toFixed(0),this.dispatchEvent(e)},n.prototype.close=function(){if(0!=this._isOpen){this._isOpen=!1,i._toolInUse=!1,this._mapMoving&&delete this._mapMoving;var e=this;if(e._dispatchLastEvent(),e._points.length<2)e._clearCurData();else{e._paths[e._paths.length-1].remove(),e._paths[e._paths.length-1]=null,e._paths.length=e._paths.length-1;var n=e._points[e._points.length-1];n.disLabel&&n.disLabel.remove(),e._processLastOp()}o.hide();for(var r=0,a=this.bindFunc.length;r<a;r++)t.un(this.bindFunc[r].elem,this.bindFunc[r].type,this.bindFunc[r].func);e._movingTimerId&&(clearInterval(e._movingTimerId),e._movingTimerId=null),this._followTitle&&this._followTitle.hide()}},n.prototype._clearCurData=function(){for(var e=0,t=this._points.length;e<t;e++)this._points[e].disLabel&&this._points[e].disLabel.remove();for(var e=0,t=this._paths.length;e<t;e++)this._paths[e].remove();for(var e=0,t=this._dots.length;e<t;e++)this._dots[e].remove();this._initData()},n.prototype._initData=function(){this._points.length=0,this._paths.length=0,this._segDistance.length=0,this._dots.length=0},n.prototype._setSegDistance=function(e,t){if(e&&t){var n=this._map.getDistance(e,t);return this._segDistance.push(n),n}},n.prototype._getTotalDistance=function(){for(var e=0,t=0,n=this._segDistance.length;t<n;t++)e+=this._segDistance[t];return e},n.prototype._convertUnit=function(e,t){return t=t||"metric",this._units[t]?e*this._units[t].conv:e},n.prototype._addSecPoint=function(e){var t=this._opts.secIcon?this._opts.secIcon:new BMap.Icon("http://api.map.baidu.com/images/mapctrls.png",new BMap.Size(11,11),{imageOffset:new BMap.Size(-26,-313)}),n=new BMap.Marker(e,{icon:t,clickable:!1,baseZIndex:35e5,zIndexFixed:!0,enableMassClear:this._enableMassClear});this._map.addOverlay(n),this._dots.push(n)},n.prototype._formatDisStr=function(e){var t=this._opts.unit,n=this._units[t].u1,i=this._convertUnit(e,t);return i>this._units[t].incon?(i/=this._units[t].incon,n=this._units[t].u2,i=i.toFixed(1)):i=i.toFixed(0),i+n},n.prototype._setCursor=function(e){var t=/webkit/.test(navigator.userAgent.toLowerCase())?"url("+this._opts.cursor+") 3 6, crosshair":"url("+this._opts.cursor+"), crosshair";o._setCursor(t)},n.prototype._getCursor=function(){return this._opts.cursor},n.prototype._formatSegLabel=function(e,t){e.setStyle({border:"none",padding:"0"}),e.setContent("<span style='"+this._styles.BMapLib_diso+"'><span style='"+this._styles.BMapLib_disi+"'>"+t+"</span></span>")},n.prototype._processLastOp=function(){var n=this;if(delete n._bind.x,delete n._bind.y,delete n._bind.initX,delete n._bind.initY,n._paths.length>n._points.length-1){var i=n._paths.length-1;n._paths[i].remove(),n._paths[i]=null,n._paths.length=i}var o={};o.points=n._points.slice(0),o.paths=n._paths.slice(0),o.dots=n._dots.slice(0),o.segDis=n._segDistance.slice(0);var r=n._map.pointToPixel(o.points[o.points.length-1]),a=n._map.pointToPixel(o.points[o.points.length-2]),s=[0,0],l=[0,0];l=r.y-a.y>=0?[-5,11]:[-5,-35],s=r.x-a.x>=0?[14,0]:[-14,0];var u=o.points[o.points.length-1];u.disLabel=new BMap.Label("",{offset:new BMap.Size(-15,-40),enableMassClear:n._enableMassClear}),u.disLabel.setStyles({color:"#333",borderColor:"#ff0103"}),n._map.addOverlay(u.disLabel),u.disLabel.setOffset(new BMap.Size(l[0],l[1])),u.disLabel.setPosition(u),n._formatTitle(2,"","",u.disLabel);var c=this._opts.closeIcon?this._opts.closeIcon:new BMap.Icon("http://api.map.baidu.com/images/mapctrls.gif",new BMap.Size(12,12),{imageOffset:new BMap.Size(0,-14)});o.closeBtn=new BMap.Marker(o.points[o.points.length-1],{icon:c,offset:new BMap.Size(s[0],s[1]),baseZIndex:36e5,enableMassClear:n._enableMassClear}),n._map.addOverlay(o.closeBtn),o.closeBtn.setTitle("清除本次测距"),o.closeBtn.addEventListener("click",function(i){for(var r=0,a=o.points.length;r<a;r++)o.points[r].disLabel.remove(),o.points[r].disLabel=null;for(var r=0,a=o.paths.length;r<a;r++)o.paths[r].remove(),o.paths[r]=null;for(var r=0,a=o.dots.length;r<a;r++)o.dots[r].remove(),o.dots[r]=null;o.closeBtn.remove(),o.closeBtn=null,e(i);var s=new t.lang.Event("onremovepolyline");n.dispatchEvent(s)}),n._initData()},n.prototype._formatTitle=function(e,t,n,i){var o=i||this._followTitle;if(o){o.setStyle({lineHeight:"16px",zIndex:"85",padding:"3px 5px"});var r=this._startFollowText||"",a=[];if(1==e){o.setOffset(0,25);var s=this._opts.unit,l=this._units[s].u1,u=this._convertUnit(n,s);u>this._units[s].incon?(u/=this._units[s].incon,l=this._units[s].u2,u=u.toFixed(1)):u=u.toFixed(0),a.push("<span>总长：<span style='"+this._styles.BMapLib_disBoxDis+"'>"+u+"</span>"+l+"</span><br />"),a.push("<span style='color:#7a7a7a'>"+t+"</span>")}else if(2==e){var s=this._opts.unit,l=this._units[s].u1,u=this._convertUnit(this._getTotalDistance(),s);u>this._units[s].incon?(u/=this._units[s].incon,l=this._units[s].u2,u=u.toFixed(1)):u=u.toFixed(0),a.push("总长：<span style='"+this._styles.BMapLib_disBoxDis+"'>"+u+"</span>"+l)}else o.setOffset(0,25),a.push(r);o.setContent(a.join(""))}},n.prototype._updateInstDis=function(e,t){var n=this._opts.unit,i=this._units[n].u1;if(t>this._units[n].incon?(t/=this._units[n].incon,i=this._units[n].u2,t=t.toFixed(1)):t=t.toFixed(0),e){var o=[];o.push("<span>总长：<span style='"+this._styles.BMapLib_disBoxDis+"'>"+t+"</span>"+i+"</span><br />"),o.push("<span style='color:#7a7a7a'>"+this._opts.followText+"</span>"),e.setContent(o.join(""))}},n.prototype._hideCurrent=function(){if(this._isOpen){if(this._paths.length>0){this._paths[this._paths.length-1].hide()}this._followTitle&&this._followTitle.hide()}},n.prototype._isPointValid=function(e){if(!e)return!1;var t=this._map.getBounds(),n=t.getSouthWest(),i=t.getNorthEast();return!(e.lng<n.lng||e.lng>i.lng||e.lat<n.lat||e.lat>i.lat)};var o={_map:null,_html:"<div style='background:transparent url(http://api.map.baidu.com/images/blank.gif);position:absolute;left:0;top:0;width:100%;height:100%;z-index:1000' unselectable='on'></div>",_maskElement:null,_cursor:"default",_inUse:!1,show:function(e){this._map||(this._map=e),this._inUse=!0,this._maskElement||this._createMask(e),this._maskElement.style.display="block"},_createMask:function(n){if(this._map=n,this._map){t.insertHTML(this._map.getContainer(),"beforeEnd",this._html);var i=this._maskElement=this._map.getContainer().lastChild,o=function(n){return e(n),t.preventDefault(n)};t.on(i,"mouseup",function(e){2==e.button&&o(e)}),t.on(i,"contextmenu",o),i.style.display="none"}},getDrawPoint:function(e,t){e=window.event||e;var n=e.layerX||e.offsetX||0,i=e.layerY||e.offsetY||0,r=e.target||e.srcElement;if(r!=o.getDom(this._map)&&1==t)for(;r&&r!=this._map.getContainer();)0==r.clientWidth&&0==r.clientHeight&&r.offsetParent&&"td"==r.offsetParent.nodeName.toLowerCase()||(n+=r.offsetLeft,i+=r.offsetTop),r=r.offsetParent;if(!(r!=o.getDom(this._map)&&r!=this._map.getContainer()||void 0===n||void 0===i||isNaN(n)||isNaN(i)))return this._map.pixelToPoint(new BMap.Pixel(n,i))},hide:function(){this._map&&(this._inUse=!1,this._maskElement&&(this._maskElement.style.display="none"))},getDom:function(e){return this._maskElement||this._createMask(e),this._maskElement},_setCursor:function(e){this._cursor=e||"default",this._maskElement&&(this._maskElement.style.cursor=this._cursor)}};return n})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=n(2),p=i(c),f=n(4),d=i(f),h=n(5),g=i(h),_=(0,p.default)(s=function(t){function i(e){o(this,i);var t=r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return(0,u.appendCss)({url:"http://api.map.baidu.com/library/TrafficControl/1.4/src/TrafficControl_min.css"}),t}return a(i,t),l(i,[{key:"init",value:function(){var t=this,i=this.props.anchor,o=void 0===i?d.default.BOTTOM_RIGHT:i,r=n(51);this.instance=new r({showPanel:!1}),setTimeout(function(){t.instance.setAnchor(e[o])},0)}}]),i}(g.default))||s;t.default=_}).call(t,n(0))},function(e,t,n){"use strict";var i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){if("object"===r(t)){var l=s();a.BMapLib=a.BMapLib||{},a.BMapLib.TrafficControl=a.BMapLib.TrafficControl||l,e.exports=l}else i=s,void 0!==(o="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=o)}(window,function(){function e(e,t,n){return t&&t.constructor==String?(t={for:"htmlFor",class:"className"}[t]||t,void 0!==n&&(e[t]=n,e.setAttribute&&e.setAttribute(t,n)),e[t]||e.getAttribute(t)||""):""}function t(e,t){var n,i=document.createElement(e),t=t||{};for(var o in t)if(n=t[o],"style"!=(o=function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign"};return a.browser.ie<8?(e.for="htmlFor",e.class="className"):(e.htmlFor="for",e.className="class"),e}()[o]||o))if(i.setAttribute)i.setAttribute(o,n);else try{i[o]=n}catch(i){}else i.style.cssText=n;return i}function n(e){for(var t={left:0,top:0};e&&e.offsetParent;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t}function i(e,t,n){var i,o;return e.insertAdjacentHTML?e.insertAdjacentHTML(t,n):(i=e.ownerDocument.createRange(),t=t.toUpperCase(),"AFTERBEGIN"==t||"BEFOREEND"==t?(i.selectNodeContents(e),i.collapse("AFTERBEGIN"==t)):(o="BEFOREBEGIN"==t,i[o?"setStartBefore":"setEndAfter"](e),i.collapse(o)),i.insertNode(i.createContextualFragment(n))),e}function o(e,t){var n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("type","text/javascript"),n.setAttribute("charset","gbk"),n.addEventListener?n.addEventListener("load",function(e){var n=e.target;n.parentNode.removeChild(n),t&&t()},!1):n.attachEvent&&n.attachEvent("onreadystatechange",function(e){var n=window.event.srcElement;!n||"loaded"!=n.readyState&&"complete"!=n.readyState||(n.parentNode.removeChild(n),t&&t())}),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(n),n=null},1)}var r,a=r=a||{version:"1.3.9"};a.guid="$BAIDU$",function(){a.dom=a.dom||{},a.event=a.event||{},a.lang=a.lang||{},a.browser=a.browser||{},a.dom.addClass=function(e,t){e=a.dom.g(e);for(var n=t.split(/\s+/),i=e.className,o=" "+i+" ",r=0,s=n.length;r<s;r++)o.indexOf(" "+n[r]+" ")<0&&(i+=(i?" ":"")+n[r]);return e.className=i,e},a.addClass=a.dom.addClass,a.dom.removeClass=function(e,t){e=a.dom.g(e);for(var n,i,o=e.className.split(/\s+/),r=t.split(/\s+/),s=r.length,l=0;l<s;++l)for(i=0,n=o.length;i<n;++i)if(o[i]==r[l]){o.splice(i,1);break}return e.className=o.join(" "),e},a.removeClass=a.dom.removeClass,a.dom.getComputedStyle=function(e,t){e=a.dom._g(e);var n,i=a.dom.getDocument(e);return i.defaultView&&i.defaultView.getComputedStyle&&(n=i.defaultView.getComputedStyle(e,null))?n[t]||n.getPropertyValue(t):""},a.dom.getStyle=function(e,t){var n=a.dom;return e=n.g(e),e.style[t]||(e.currentStyle?e.currentStyle[t]:"")||n.getComputedStyle(e,t)},a.getStyle=a.dom.getStyle,a.dom.getDocument=function(e){return e=a.dom.g(e),9==e.nodeType?e:e.ownerDocument||e.document},a.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},a.g=a.G=a.dom.g,a.dom._g=function(e){return a.lang.isString(e)?document.getElementById(e):e},a._g=a.dom._g,a.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},a.isString=a.lang.isString,a.event._listeners=a.event._listeners||[],a.event.on=function(e,t,n){t=t.replace(/^on/i,""),e=a.dom._g(e);var i,o=function(t){n.call(e,t)},r=a.event._listeners,s=a.event._eventFilter,l=t;return t=t.toLowerCase(),s&&s[t]&&(i=s[t](e,t,o),l=i.type,o=i.listener),e.addEventListener?e.addEventListener(l,o,!1):e.attachEvent&&e.attachEvent("on"+l,o),r[r.length]=[e,t,n,o,l],e},a.on=a.event.on,a.event.un=function(e,t,n){e=a.dom._g(e),t=t.replace(/^on/i,"").toLowerCase();for(var i,o,r,s=a.event._listeners,l=s.length,u=!n;l--;)i=s[l],i[1]!==t||i[0]!==e||!u&&i[2]!==n||(o=i[4],r=i[3],e.removeEventListener?e.removeEventListener(o,r,!1):e.detachEvent&&e.detachEvent("on"+o,r),s.splice(l,1));return e},a.un=a.event.un,/msie (\d+\.\d)/i.test(navigator.userAgent)&&(a.browser.ie=a.ie=document.documentMode||+RegExp.$1),a.platform=a.platform||{},a.platform.isIphone=/iphone/i.test(navigator.userAgent),a.platform.isAndroid=/android/i.test(navigator.userAgent),a.platform.isIpad=/ipad/i.test(navigator.userAgent),a.isMobile=function(){return!!(a.platform.isIphone||a.platform.isIpad||a.platform.isAndroid)}}();var s=a.isMobile()?"_mobile":"_deskTop",l=function(e){this.defaultAnchor=BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new BMap.Size(10,10),this.showPanel=e&&e.showPanel};return l.prototype=new BMap.Control,l.prototype.initialize=function(e){var n=t("div",{title:"显示交通流量",id:"tcBtn",class:"maplibTcBtn"+s+" maplibTcBtnOff"+s});e.getContainer().appendChild(n),this._map=e,this._popUpDiv(this,n);return this.btn=n,n},l.prototype._popUpDiv=function(t,r){function u(){m.isbShow()?m.hide():(m.setPopOffset(t.getOffset()),m.show())}function c(){function e(){var e=l.curTime,n=e.getHours();m._bind||(p(t),d(t),m._bind=!0);var i=(n<10?"0"+n:n)+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());M.innerHTML=i,t.hour=n,t.weekday=0==e.getDay()?7:e.getDay(),t.time=i,x.setBarTime(n)}O.innerHTML="更新时间",w.innerHTML=_[1],v.innerHTML=_[0],a.dom.addClass(b,"maplibTcHide"),E.style.display="block",y=!0,a.isMobile()?t.showPanel&&a.dom.removeClass("tcWrap_mobile","maplibTfctrHide"):a.dom.removeClass("tcWrap","maplibTcHide");for(var n=a.g("tcWeek").getElementsByTagName("a"),i=0;i<7;i++)n[i].className="";var r="http://its.map.baidu.com:8002/traffic/GetCurrentTime?callback=BMapLib.TrafficControl.getTime&";o(r+(new Date).getTime(),e),t.timer&&clearInterval(t.timer),t.timer=setInterval(function(){o(r+(new Date).getTime(),function(){if(t.bShow){var e=l.curTime,n=e.getHours(),i=(n<10?"0"+n:n)+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes());M.innerHTML=i,t.hideTraffic(),t.showTraffic()}})},18e4)}function p(e){function t(){e.timer&&clearInterval(e.timer),w.innerHTML=g[1],v.innerHTML=g[0],a.dom.removeClass(b,"maplibTcHide"),E.style.display="none",y=!1,O.innerHTML="星期"+C[e.weekday-1],M.innerHTML=T.innerHTML,e.showTraffic({predictDate:{hour:e.hour,weekday:e.weekday}})}a.event.on("tcViewPrediction","click",function(){y?t():c()}),a.event.on("tcUpdate","click",function(){c()})}function f(){O.innerHTML="星期"+C[t.weekday-1],M.innerHTML=T.innerHTML}function d(t){a.event.on("tcWeek","onclick",function(n){var i=n.target||n.srcElement;if("a"==i.tagName.toLowerCase()){for(var o=a.g("tcWeek").getElementsByTagName("a"),r=0;r<7;r++)o[r].className="";a.dom.addClass(i,"maplibTcOn"),t.weekday=parseInt(e(i,"lang"),10),f(),t.showTraffic({predictDate:{hour:t.hour,weekday:t.weekday}})}})}function h(e){function t(e){return a.on(document,"onmousemove",i),a.on(document,"onmouseup",o),e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1}function i(e){var t=e.clientX||e.x,i=n(a.G("tcPrev")).left+9,o=t-i-4;o<0&&(o=0),o>165&&(o=165),a.browser.ie<=6?c.style.marginLeft=.53*o+"px":c.style.marginLeft=o+"px",T.style.marginLeft=o+"px",l()}function o(){a.un(document,"onmousemove",i),a.un(document,"onmouseup",o),e.showTraffic({predictDate:{hour:e.hour,weekday:e.weekday}})}function r(e){var t=parseInt(a.dom.getStyle("tcTimeBox","marginLeft")),n=Math.ceil(24*(t-4)/165);s("next"==e?n+1:n-1)}function s(t){t<0&&(t=0),t>24&&(t=24),u=t;var n=6.875*t;T.style.marginLeft=n+"px";var i=a.g("tcMove");a.browser.ie<=6&&a.browser.ie>0?i.style.marginLeft=.53*n+"px":i.style.marginLeft=n+"px",e.hour=u,y?e.showTraffic():e.showTraffic({predictDate:{hour:e.hour,weekday:e.weekday}}),l()}function l(){var t=parseInt(T.style.marginLeft),n=Math.ceil(24*(t-4)/165);u=n,e.hour=n,n<10&&(n="0"+n),y?(M.innerHTML=e.time,T.innerHTML=n+":00"):M.innerHTML=T.innerHTML=n+":00"}var u,c=a.g("tcMove");a.on(c,"onmousedown",t),a.on("tcPrev","click",function(){r("prev")}),a.on("tcNext","click",function(){r("next")}),this.setBarTime=function(e){s(e)}}var t=this,g=["查看实时路况","流量预测"],_=["查看流量预测","实时路况"],y=!0;this.bShow=!1;var m=this;m._bind=!1,i(r,"afterEnd",function(){var e=['<div class="maplibTc maplibTcHide" id="tcWrap">'];return e.push('<div class="maplibTcColor" id="tcTitle">实时路况</div>'),e.push('<div id="tcRealTime">'),e.push('<div class="maplibTcTime"><span id="maplibTcDay" class="maplibTcCurTime">更新时间</span><span><span class="maplibTcColon">：&nbsp;</span><span class="maplibTcCurTime" id="tcNow"></span><span title="更新" id="tcUpdate" class="maplibTcUpdate"></span> <a href="javascript:void(0)" class="maplibTcView" id="tcViewPrediction">查看流量预测</a><button class="maplibTcClose" id="tcClose"></button></div></div>'),e.push('<div id="tcPredition" class="maplibTcHide">'),e.push('<div class="maplibTcWeekDay"><span>星期</span><ul id="tcWeek"><li><a lang="1" href="javascript:void(0)">一</a></li><li><a lang="2" href="javascript:void(0)">二</a></li><li><a lang="3" href="javascript:void(0)">三</a></li><li><a lang="4" href="javascript:void(0)">四</a></li><li><a lang="5" href="javascript:void(0)">五</a></li><li><a lang="6" href="javascript:void(0)">六</a></li><li><a lang="7" href="javascript:void(0)">日</a></li></ul></div>'),e.push('<div><div class="maplibTcRuleTxt">时间</div>'),e.push('<div class="maplibTcRule">'),e.push('<div><div class="maplibTcTimeBox" id="tcTimeBox">20:00</div></div>'),e.push('<div class="maplibTcTimeline" >'),e.push('<div class="maplibTcTimelinePrev" id="tcPrev"></div>'),e.push('<div class="maplibTcTimeMove" id="tcMove"></div>'),e.push('<div class="maplibTcTimelineNext" id="tcNext"></div>'),e.push("</div></div></div>"),e.push('<div class="maplibTcClear" style="text-align: center; color: #ccc;">（基于历史流量统计预测 仅供参考）</div>'),e.push("</div></div></div>"),e.join("")}()),i(r,"afterEnd",'<div class="maplibTfctr maplibTfctrHide" id="tcWrap_mobile" style="position: absolute; z-index: 10; -webkit-text-size-adjust: none; bottom: 17px; right: auto; top: auto; left:50%;margin-left:-4.5em;"><div class="maplibTfctr_l"></div><div class="maplibTfctr_c">实时路况</div><div class="maplibTfctr_status"><span class="maplibR">堵</span><span class="maplibY">缓</span><span class="maplibG">畅</span></div></div>');var v=a.g("tcViewPrediction"),b=a.g("tcPredition"),w=a.g("tcTitle"),O=a.g("maplibTcDay"),M=a.g("tcNow"),P=a.g("tcWrap"),T=a.g("tcTimeBox"),E=a.g("tcUpdate"),C=["一","二","三","四","五","六","日"],x=new h(t);this.show=function(){c(),t.bShow=!0,a.dom.removeClass(r,"maplibTcBtnOff"+s)},this.hide=function(){t.bShow=!1,a.dom.addClass(r,"maplibTcBtnOff"+s),a.isMobile()?a.dom.addClass("tcWrap_mobile","maplibTfctrHide"):(a.dom.addClass("tcWrap","maplibTcHide"),a.dom.addClass("tcPredition","maplibTcHide")),t.hideTraffic()},this.isbShow=function(){return t.bShow},this.setPopOffset=function(e){var n=e.height+24+"px",i=e.width+"px";switch(t.getAnchor()){case BMAP_ANCHOR_TOP_LEFT:P.style.top=n,P.style.left=i;break;case BMAP_ANCHOR_TOP_RIGHT:P.style.top=n,P.style.right=i;break;case BMAP_ANCHOR_BOTTOM_RIGHT:P.style.bottom=n,P.style.right=i;break;case BMAP_ANCHOR_BOTTOM_LEFT:P.style.bottom=n,P.style.left=i}};var k=a.isMobile()?"ontouchend":"onclick";a.event.on(r,k,function(){u()}),a.event.on("tcClose","click",function(e){u()})},l.prototype.showTraffic=function(e){var t;if(this._trafficLayer&&this._map.removeTileLayer(this._trafficLayer),e){if(e.predictDate.weekday>7||e.predictDate.weekday<1)return;t=new BMap.TrafficLayer(e)}else t=new BMap.TrafficLayer;this.bShow=!0,a.isMobile()&&a.dom.removeClass(this.btn,"maplibTcBtnOff"+s),this._map.addTileLayer(t),this._trafficLayer=t},l.prototype.hideTraffic=function(){this.bShow=!1,this._trafficLayer&&(this._map.removeTileLayer(this._trafficLayer),this._trafficLayer=null),a.isMobile()&&a.dom.addClass(this.btn,"maplibTcBtnOff"+s)},l.prototype.remove=function(){this.hideTraffic();var e=a.g("tcWrap");e.parentNode.removeChild(e),BMap.Control.prototype.remove.call(this),this.timer&&clearInterval(this.timer)},l.getTime=function(e){this.curTime=isNaN(e)?new Date:new Date(e)},l})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PERMISSION_DENIED:"BMAP_STATUS_PERMISSION_DENIED",SERVICE_UNAVAILABLE:"BMAP_STATUS_SERVICE_UNAVAILABLE",TIMEOUT:"BMAP_STATUS_TIMEOUT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DROP:"BMAP_ANIMATION_DROP",BOUNCE:"BMAP_ANIMATION_BOUNCE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CIRCLE:"BMAP_POINT_SHAPE_CIRCLE",STAR:"BMAP_POINT_SHAPE_STAR",SQUARE:"BMAP_POINT_SHAPE_SQUARE",RHOMBUS:"BMAP_POINT_SHAPE_RHOMBUS",WATERDROP:"BMAP_POINT_SHAPE_WATERDROP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TINY:"BMAP_POINT_SIZE_TINY",SMALLER:"BMAP_POINT_SIZE_SMALLER",SMALL:"BMAP_POINT_SIZE_SMALL",NORMAL:"BMAP_POINT_SIZE_NORMAL",BIG:"BMAP_POINT_SIZE_BIG",BIGGER:"BMAP_POINT_SIZE_BIGGER",HUGE:"BMAP_POINT_SIZE_HUGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CIRCLE:"BMap_Symbol_SHAPE_CIRCLE",RECTANGLE:"BMap_Symbol_SHAPE_RECTANGLE",RHOMBUS:"BMap_Symbol_SHAPE_RHOMBUS",STAR:"BMap_Symbol_SHAPE_STAR",BACKWARD_CLOSED_ARROW:"BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW",FORWARD_CLOSED_ARROW:"BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW",BACKWARD_OPEN_ARROW:"BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW",FORWARD_OPEN_ARROW:"BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW",POINT:"BMap_Symbol_SHAPE_POINT",PLANE:"BMap_Symbol_SHAPE_PLANE",CAMERA:"BMap_Symbol_SHAPE_CAMERA",WARNING:"BMap_Symbol_SHAPE_WARNING",SMILE:"BMap_Symbol_SHAPE_SMILE",CLOCK:"BMap_Symbol_SHAPE_CLOCK"}}])});