!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["rc-bmap"]=t(require("react")):e["rc-bmap"]=t(e.React)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2);Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return n(r).default}});var a=o(10);Object.defineProperty(t,"MapType",{enumerable:!0,get:function(){return n(a).default}});var i=o(11);Object.defineProperty(t,"ControlAnchor",{enumerable:!0,get:function(){return n(i).default}})},function(e,t,o){"use strict";(function(e){function n(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,l,c,p=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(3),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(f),d=o(4),m=function(e){return e&&e.__esModule?e:{default:e}}(d),b=o(7),h=o(8),y=o(9),_=window||e,v=(l=u=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.call(o),s.createRef?o.mapContainerRef=s.createRef():o.mapContainerRef=function(e){o.mapContainer=e},o}return i(t,e),p(t,[{key:"componentDidMount",value:function(){this.getMapScript().then(this.init)}},{key:"componentWillReceiveProps",value:function(e){this.processMapOptions(e)}},{key:"render",value:function(){var e=this.props.placeHolder;return s.createElement("div",{style:{width:"100%",height:"100%"}},s.createElement("div",{ref:this.mapContainerRef,style:{width:"100%",height:"100%"}},e),this.renderChildren())}}]),t}(s.Component),u.defaultProps={placeHolder:"地图加载中...",dragging:!0,scrollWheelZoom:!1,doubleClickZoom:!0,keyboard:!1,inertialDragging:!1,continuousZoom:!0,pinchToZoom:!0,autoResize:!0,highResolution:!0,mapClick:!0,center:{lng:116.404,lat:39.915},zoom:15},u.propTypes={placeHolder:m.default.oneOfType([m.default.string,m.default.object]),children:m.default.any,ak:m.default.string,minZoom:m.default.number,maxZoom:m.default.number,defaultCursor:m.default.string,draggingCursor:m.default.string,mapStyle:m.default.object,center:m.default.oneOfType([m.default.string,m.default.object]),mapType:m.default.string,zoom:m.default.number,highResolution:m.default.bool,autoResize:m.default.bool,mapClick:m.default.bool,renderCallBack:m.default.func,dragging:m.default.bool,scrollWheelZoom:m.default.bool,doubleClickZoom:m.default.bool,keyboard:m.default.bool,inertialDragging:m.default.bool,continuousZoom:m.default.bool,pinchToZoom:m.default.bool,events:m.default.object},c=function(){var e=this;this.init=function(t){var o=e.props,r=o.highResolution,a=o.autoResize,i=o.mapClick,u=o.renderCallBack,l=n(o,["highResolution","autoResize","mapClick","renderCallBack"]);e.mapContainer=e.mapContainer||e.mapContainerRef.current;var c=e.map=new t.Map(e.mapContainer,{enableHighResolution:r,enableAutoResize:a,enableMapClick:i});_.bMapInstance=c,e.processMapOptions(l),e.bindEvents(),u&&u(),e.renderChildren()},this.processMapOptions=function(t){var o=e.map;if(b.MAP_SET_OPTIONS.forEach(function(e){if(t[e]){var n=(0,h.replaceInitialToUpper)(e);o["set"+n](t[e])}}),b.MAP_BOOLEAN_OPTIONS.forEach(function(e){var n=(0,h.replaceInitialToUpper)(e),r="disable";t[e]&&(r="enable"),o[""+r+n]()}),t.center){var n=t.center;(0,h.isPoint)(n)&&(n=(0,h.getPoint)(n.lng,n.lat),o.centerAndZoom(n,t.zoom))}t.mapType&&o.setMapType(_[t.mapType])},this.bindEvents=function(){var t=e.map,o=e.props.events;o&&y.MAP_EVENTS.forEach(function(e){o[e]&&t.addEventListener(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];o[e].apply(null,n)})})},this.getMapScript=function(){var t=e.props.ak;return _.BMap=_.BMap||{},0===Object.keys(_.BMap).length?(_.BMap._preloader=new Promise(function(e,o){_._initBaiduMap=function(){e(_.BMap),_.document.body.removeChild(n),_.BMap._preloader=null,_._initBaiduMap=null};var n=document.createElement("script");_.document.body.appendChild(n),n.src="https://api.map.baidu.com/api?v=3.0&ak="+t+"&callback=_initBaiduMap"}),_.BMap._preloader):_.BMap._preloader?_.BMap._preloader:Promise.resolve(_.BMap)},this.renderChildren=function(){var t=e.props.children;return e.map&&t?s.Children.map(t,function(e){return e?s.cloneElement(e):null}):null}},l);t.default=v}).call(t,o(0))},function(t,o){t.exports=e},function(e,t,o){e.exports=o(5)()},function(e,t,o){"use strict";function n(){}var r=o(6);e.exports=function(){function e(e,t,o,n,a,i){if(i!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=n,o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAP_SET_OPTIONS=["minZoom","maxZoom","defaultCursor","draggingCursor","mapStyle","mapType","zoom"],t.MAP_BOOLEAN_OPTIONS=["dragging","scrollWheelZoom","doubleClickZoom","keyboard","inertialDragging","continuousZoom","pinchToZoom","autoResize"]},function(e,t,o){"use strict";(function(e){function o(e){return e.replace(a,function(e){return e.toUpperCase()})}function n(e,t){return new i.BMap.Point(e,t)}function r(e,t){return new i.BMap.Size(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInitialToUpper=o,t.getPoint=n,t.getSize=r;var a=/[a-z]/,i=window||e;t.isPoint=function(e){return e.lng&&e.lat}}).call(t,o(0))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAP_EVENTS=["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"]},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NORMAL:"BMAP_NORMAL_MAP",PERSPECTIVE:"BMAP_PERSPECTIVE_MAP",SATELLITE:"BMAP_SATELLITE_MAP",HYBRID:"BMAP_HYBRID_MAP"}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TOP_LEFT:"BMAP_ANCHOR_TOP_LEFT",TOP_RIGHT:"BMAP_ANCHOR_TOP_RIGHT",BOTTOM_LEFT:"BMAP_ANCHOR_BOTTOM_LEFT",BOTTOM_RIGHT:"BMAP_ANCHOR_BOTTOM_RIGHT"}}])});